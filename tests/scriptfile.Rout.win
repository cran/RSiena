
R version 3.0.1 (2013-05-16) -- "Good Sport"
Copyright (C) 2013 The R Foundation for Statistical Computing
Platform: i386-w64-mingw32/i386 (32-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> options(error=NULL)
> set.seed(1)
> options(help_type='text')
> #print(.libPaths())
> options(pager='console')
> ###################################################################################
> ###
> ### ---- Rscript01DataFormat.R: a script for the introduction to RSiena -------------
> ###
> ###                               version: April 14, 2013
> ###################################################################################
> #
> # Rscript01DataFormat.R is followed by
> # RScriptSNADescriptives.R, code for descriptive analysis of the data, and
> # Rscript02SienaVariableFormat.R, which formats data and specifies the model, and
> # Rscript03SienaRunModel.R, which runs the model and estimates parameters
> # Rscript04SienaBehaviour.R, which illustrates an example of analysing the
> # coevolution of networks and behaviour
> #
> # The entire model fitting is summarised at the end of RscriptSienaRunModel.R
> # (without comments)
> #
> # This is an R script for getting started with RSiena, written by
> # Robin Gauthier, Tom Snijders, Ruth Ripley, Johan Koskinen, and
> # Paulina Preciado, with some examples borrowed from Christian Steglich.
> # Lines starting with # are not processed by R but treated as comments.
> # The script has a lot of explanation of R possibilities that will be
> # familiar for readers well acquainted with R, and can be skipped by them.
> #
> # There are various really easy online introductions to R. See, for example
> #
> #        http://www.statmethods.net/
> #        http://www.burns-stat.com/pages/Tutor/hints_R_begin.html
> #        http://data.princeton.edu/R/gettingStarted.html
> #        http://www.ats.ucla.edu/stat/R/sk/
> #
> # You can go to any of these sites to learn the basics of R
> # or refresh your knowledge.
> # There is a lot of documentation available at
> #        http://cran.xl-mirror.nl/other-docs.html
> # including some short introductions, handy reference cards,
> # and introductions in many languages besides English.
> #
> #
> # Some general points to note:
> #
> # R is case-sensitive. Be aware of capitalization!
> #
> # The left-arrow "<-" is very frequently used: it denotes an assignment,
> # "a <- b" meaning that object a gets the value b.
> # Often b is a complicated expression that has to be evaluated by R,
> # and computes a result that then is stored as the object a.
> #
> # Help within R can be called by typing a question mark and the name of the
> # function you need help for. For example
> # ?library
> # will bring up a file titled "loading and listing of packages".
> # Comments are made at the end of commands after #,
> # or in lines starting with # telling R to ignore everything beyond it.
> # That is why everything up to now in this file is on lines starting with #.
> #
> # This session will be using s50 data which are supposed to be
> # present in the working directory.
> # You can get them from
> #     http://www.stats.ox.ac.uk/~snijders/siena/siena_datasets.htm
> #
> # Any command in R is a function, and ends by parentheses
> # that enclose the arguments of the function,
> # or enclose nothing if no argument is needed, such as for the function q()
> # In general the command syntax for calling R's functions is function(x) where
> # function is a saved function and x the name of the object to be operated on.
> #
> #################### - CALLING THE DATA AND PRELIMINARY MANIPULATIONS - ###########
> 
> # The library command loads the packages needed during the session.
> 
>         library(RSiena)
> 
> # Some additional packages are used by RSiena,
> # the so-called required packages; these will be loaded automatically.
> 
> # You need to have INSTALLED all of them.
> 
> 	?install.packages
install.packages             package:utils             R Documentation

_I_n_s_t_a_l_l _P_a_c_k_a_g_e_s _f_r_o_m _R_e_p_o_s_i_t_o_r_i_e_s _o_r _L_o_c_a_l _F_i_l_e_s

_D_e_s_c_r_i_p_t_i_o_n:

     Download and install packages from CRAN-like repositories or from
     local files.

_U_s_a_g_e:

     install.packages(pkgs, lib, repos = getOption("repos"),
                      contriburl = contrib.url(repos, type),
                      method, available = NULL, destdir = NULL,
                      dependencies = NA, type = getOption("pkgType"),
                      configure.args = getOption("configure.args"),
                      configure.vars = getOption("configure.vars"),
                      clean = FALSE, Ncpus = getOption("Ncpus", 1L),
                      verbose = getOption("verbose"),
                      libs_only = FALSE, INSTALL_opts, quiet = FALSE,
                      keep_outputs = FALSE, ...)
     
_A_r_g_u_m_e_n_t_s:

    pkgs: character vector of the names of packages whose current
          versions should be downloaded from the repositories.

          If 'repos = NULL', a character vector of file paths of '.zip'
          files containing binary builds of packages. Source
          directories or '.tar.gz' archives may also be installed, but
          some packages need suitable tools installed (see the
          'Details' section).

          If this is missing or a zero-length character vector, a
          listbox of available packages is presented where possible in
          an interactive R session.

     lib: character vector giving the library directories where to
          install the packages.  Recycled as needed.  If missing,
          defaults to the first element of '.libPaths()'.

   repos: character vector, the base URL(s) of the repositories to use,
          e.g., the URL of a CRAN mirror such as
          '"http://cran.us.r-project.org"'.

          Can be 'NULL' to install from local files (with extension
          '.tar.gz' for source packages).

contriburl: URL(s) of the contrib sections of the repositories.  Use
          this argument if your repository mirror is incomplete, e.g.,
          because you burned only the 'contrib' section on a CD, or
          only have binary packages.  Overrides argument 'repos'.  As
          with 'repos', can also be 'NULL' to install from local files.

  method: download method, see 'download.file'.

available: an object as returned by 'available.packages' listing
          packages available at the repositories, or 'NULL' when the
          function makes an internal call to 'available.packages'.

 destdir: directory where downloaded packages are stored.  If it is
          'NULL' (the default) a subdirectory 'downloaded_packages' of
          the session temporary directory will be used (and the files
          will be deleted at the end of the session).

dependencies: logical indicating to also install uninstalled packages
          which these packages depend on/link to/import/suggest (and so
          on recursively).  Not used if 'repos = NULL'.  Can also be a
          character vector, a subset of 'c("Depends", "Imports",
          "LinkingTo", "Suggests", "Enhances")'.

          Only supported if 'lib' is of length one (or missing), so it
          is unambiguous where to install the dependent packages.  If
          this is not the case it is ignored, with a warning.

          The default, 'NA', means 'c("Depends", "Imports",
          "LinkingTo")'.

          'TRUE' means (as from R 2.15.0) to use 'c("Depends",
          "Imports", "LinkingTo", "Suggests")' for 'pkgs' and
          'c("Depends", "Imports", "LinkingTo")' for added
          dependencies: this installs all the packages needed to run
          'pkgs', their examples, tests and vignettes (if the package
          author specified them correctly).

    type: character, indicating the type of package to download and
          install.

          Possible values are '"source"', '"mac.binary.leopard"' and
          '"win.binary"': the binary types can be listed and downloaded
          but not installed on other platforms.

          The default is the appropriate binary type on Windows and on
          the CRAN binary OS X distribution, otherwise '"source"'.  For
          the platforms where binary packages are the default, an
          alternative is '"both"' which means 'try binary if available,
          otherwise try source'.  (This will only choose the binary
          package if its version number is no older than the source
          version.  In interactive use it will ask before attempting to
          install source packages.)

configure.args: (not used on Windows) a character vector or a named
          list.  If a character vector with no names is supplied, the
          elements are concatenated into a single string (separated by
          a space) and used as the value for the '--configure-args'
          flag in the call to 'R CMD INSTALL'.  If the character vector
          has names these are assumed to identify values for
          '--configure-args' for individual packages.  This allows one
          to specify settings for an entire collection of packages
          which will be used if any of those packages are to be
          installed.  (These settings can therefore be re-used and act
          as default settings.)

          A named list can be used also to the same effect, and that
          allows multi-element character strings for each package which
          are concatenated to a single string to be used as the value
          for '--configure-args'.

configure.vars: (not used on Windows) analogous to 'configure.args' for
          flag '--configure-vars', which is used to set environment
          variables for the 'configure' run.

   clean: a logical value indicating whether to specify to add the
          '--clean' flag to the call to 'R CMD INSTALL'.  This is
          sometimes used to perform additional operations at the end of
          the package installation in addition to removing intermediate
          files.

   Ncpus: the number of parallel processes to use for a parallel
          install of more than one source package.  Values greater than
          one are supported if the 'make' command specified by
          'Sys.getenv("MAKE", "make")' accepts argument '-k -j Ncpus'.

 verbose: a logical indicating if some "progress report" should happen.

libs_only: a logical value: should the '--libs-only' option be used to
          install only additional sub-architectures?  (See also
          'INSTALL_opts'.)  This can also be used on Windows to install
          just the DLL(s) from a binary package, e.g. to add 64-bit
          DLLs to a 32-bit install.

INSTALL_opts: an optional character vector of additional option(s) to
          be passed to 'R CMD INSTALL' for a source package install.
          E.g., 'c("--html", "--no-multiarch")'.

          Can also be a named list of character vectors of to be used
          as additional options, with names the respective package
          names.

   quiet: logical: if true, reduce the amount of output.

keep_outputs: a logical: if true, keep the outputs from installing
          source packages in the current working directory, with the
          names of the output files the package names with '.out'
          appended.  Alternatively, a character string giving the
          directory where to save the outputs.  Ignored when installing
          from local files.

     ...: Arguments to be passed to 'download.file' or to the functions
          for binary installs on OS X and Windows (which accept an
          argument '"lock"': see the section on 'Locking').

_D_e_t_a_i_l_s:

     R packages are primarily distributed as _source_ packages, but
     _binary_ packages (a packaging up of the installed package) are
     also supported, and the type most commonly used on Windows and
     from the CRAN distribution for OS X.  This function can install
     either type where supported, either by downloading a file from a
     repository or from a local file.  The default type is given by
     'getOption("pkgType")': this defaults to '"source"' apart from
     under Windows or a CRAN binary distribution for OS X.

     This is the main function to install packages.  It takes a vector
     of names and a destination library, downloads the packages from
     the repositories and installs them.  (If the library is omitted it
     defaults to the first directory in '.libPaths()', with a message
     if there is more than one.)  If 'lib' is omitted or is of length
     one and is not a (group) writable directory, the code offers to
     create a personal library tree (the first element of
     'Sys.getenv("R_LIBS_USER")') and install there.  Detection of a
     writable directory is problematic on Windows: see the 'Note'
     section.

     For source packages from a repository an attempt is made to
     install the packages in an order that respects their dependencies.
     This does assume that all the entries in 'lib' are on the default
     library path for installs (set by 'R_LIBS').

     Using packages with 'type = "source"' always works on Windows
     provided the package contains no C/C++/Fortran code that needs
     compilation.  Otherwise you will need to have installed the Rtools
     collection as described in the 'R for Windows FAQ' _and_ you must
     have the 'PATH' environment variable set up as required by Rtools.

     When installing a binary package, 'install.packages' will abort
     the install if it detects that the package is already installed
     and is currently in use.  In some circumstances (e.g. multiple
     instances of R running at the same time and sharing a library) it
     will not detect a problem, but the installation may fail.

     You are advised to run 'update.packages' before 'install.packages'
     to ensure that any already installed dependencies have their
     latest versions.

     Argument 'libs_only = TRUE' is supported for source installs and
     for Windows binary installs.

     For binary installs, the function also checks for the availability
     of a source package on the same repository, and reports if the
     source package has a later version, or is available but no binary
     version is.  This check can be suppressed by
     
         options(install.packages.check.source = "no")

     and should be if there is a partial repository containing only
     binary files.

_V_a_l_u_e:

     Invisible 'NULL'.

_L_o_c_k_i_n_g:

     There are various options for locking: these differ between source
     and binary installs.

     By default for a source install, the library directory is 'locked'
     by creating a directory '00LOCK' within it.  This has two
     purposes: it prevents any other process installing into that
     library concurrently, and is used to store any previous version of
     the package to restore on error.  A finer-grained locking is
     provided by the option '--pkglock' which creates a separate lock
     for each package: this allows enough freedom for parallel
     installation.  Per-package locking is the default when installing
     a single package, and for multiple packages when 'Ncpus > 1L'.
     Finally locking (and restoration on error) can be suppressed by
     '--no-lock'.

     For an OS X or Windows binary install, no locking is done by
     default.  Setting argument 'lock' to 'TRUE' (it defaults to the
     value of 'getOption("install.lock", FALSE)') will use
     per-directory locking as described for source installs: if the
     value is '"pkglock"' per-package locking will be used.

     If package locking is used on Windows with 'libs_only = TRUE' and
     the installation fails, the package will be restored to its
     previous state.

     Note that it is possible for the package installation to fail so
     badly that the lock directory is not removed: this inhibits any
     further installs to the library directory (or for '--pkglock', of
     the package) until the lock directory is removed manually.

_P_a_r_a_l_l_e_l _i_n_s_t_a_l_l_s:

     Parallel installs are attempted if 'pkgs' has length greater than
     one and 'Ncpus > 1'.  It makes use of a parallel 'make', so the
     'make' specified (default 'make') when R was built must be capable
     of supporting 'make -j n': GNU make and 'dmake' do, but FreeBSD
     and Solaris 'make' do not: if necessary environment variable
     'MAKE' can be set for the current session to select a suitable
     'make'.

     'install.packages' needs to be able to compute all the
     dependencies of 'pkgs' from 'available', including if one element
     of 'pkgs' depends indirectly on another.  This means that if for
     example you are installing CRAN packages which depend on
     Bioconductor packages which in turn depend on CRAN packages,
     'available' needs to cover both CRAN and Bioconductor packages.

_N_o_t_e:

     'install.packages' tries to detect if you have write permission on
     the library directories specified, but Windows reports unreliably.
     If there is only one library directory (the default), R tries to
     find out by creating a test directory, but even this need not be
     the whole story.  Under Windows Vista and later you may have
     permission to write in a library directory but lack permission to
     write binary files (such as '.dll' files) there.  See the 'R for
     Windows FAQ' for workarounds.

_S_e_e _A_l_s_o:

     'update.packages', 'available.packages', 'download.packages',
     'installed.packages', 'contrib.url'.

     See 'download.file' for how to handle proxies and other options to
     monitor file transfers.

     'INSTALL', 'REMOVE', 'remove.packages', 'library', '.packages',
     'read.dcf'

     The 'R Installation and Administration' manual for how to set up a
     repository.

_E_x_a_m_p_l_e_s:

     ## Not run:
     
     ## A Linux example for Fedora's layout
     install.packages(c("ncdf4", "RNetCDF"),
       configure.args = c(RNetCDF = "--with-netcdf-include=/usr/include/udunits2"))
     ## End(Not run)
     
> 
> # Or click on the tab "Packages", "Install package(s)", then select a CRAN mirror
> # (e.g. Bristol if you are in the UK) and finally select from the list
> # the package you wish to install.
> 
> # Where are you?
> 
> 	getwd()
[1] "C:/Users/tom.snijders/Documents/RSienaRForge/pkg/RSiena.Rcheck/tests_i386"
> 
> # By something like
> 	# setwd('C:/SienaTest')
> # you can set the directory but note the quotes and forward slash.
> # It is also possible to set the directory using the menus if you have them.
> # On a windows machine, you can predetermine the working directory
> # in the <Properties> of the shortcut to R;
> # these are accessible by right-clicking the shortcut.
> 
> # If you want to set the working directory to for example
> 	# "C:\Documents and Settings\johan\My Documents\RSiena_course"
> # simply copy and paste from windows explorer or type
> #     setwd('C:/Documents and Settings/johan/My Documents/RSiena_course')
> # or
> #     setwd('C:\\Documents and Settings\\johan\\My Documents\\RSiena_course')
> #
> # but note that "\" has to be changed; both '/' and '\\' work!!!
> 
> # What is in this directory?
> 
>          list.files()
 [1] "CBE1.DAT"                 "CBE3.DAT"                
 [3] "CBE4.DAT"                 "CBE6.DAT"                
 [5] "EIES1.dat"                "EIES2.dat"               
 [7] "EIESATD.dat"              "EIESATT.dat"             
 [9] "FR0.DAT"                  "FR1.DAT"                 
[11] "FR2.DAT"                  "FR3.DAT"                 
[13] "FR4.DAT"                  "FR5.DAT"                 
[15] "FR6.DAT"                  "HN34_1.DAT"              
[17] "HN34_3.DAT"               "HN34_4.DAT"              
[19] "HN34_6.DAT"               "N34_1.DAT"               
[21] "N34_3.DAT"                "N34_4.DAT"               
[23] "N34_6.DAT"                "VARS.DAT"                
[25] "VRND32T0.DAT"             "VRND32T1.DAT"            
[27] "VRND32T2.DAT"             "VRND32T3.DAT"            
[29] "VRND32T4.DAT"             "VRND32T5.DAT"            
[31] "VRND32T6.DAT"             "arclistdata.dat"         
[33] "cbc1.dat"                 "cbc3.dat"                
[35] "cbc6.dat"                 "klas12b-advice.dat"      
[37] "klas12b-alcohol.dat"      "klas12b-delinquency.dat" 
[39] "klas12b-demographics.dat" "klas12b-net-1.dat"       
[41] "klas12b-net-2.dat"        "klas12b-net-3.dat"       
[43] "klas12b-net-3m.dat"       "klas12b-net-4.dat"       
[45] "klas12b-net-4m.dat"       "klas12b-present.dat"     
[47] "klas12b-primary.dat"      "parallel.R"              
[49] "parallel.Rout"            "parallel.Rout.save"      
[51] "s50-alc2.dat"             "s50-alcohol.dat"         
[53] "s50-dr2.dat"              "s50-network1.dat"        
[55] "s50-network2.dat"         "s50-network3.dat"        
[57] "s50-smoke.dat"            "s50-sp2.dat"             
[59] "s50-sport.dat"            "s50.csv"                 
[61] "s50.out"                  "s50_d1.net"              
[63] "s50_d2.net"               "s50_d3.net"              
[65] "s50e.csv"                 "s50e.dat"                
[67] "s50e.out"                 "s50paj.csv"              
[69] "s50paj.out"               "scriptfile.R"            
[71] "scriptfile.Rout"          "scriptfile.Rout.save"    
[73] "scriptfile.Rout.win"      "scripts.R"               
[75] "scripts.Rout"             "scripts.Rout.save"       
[77] "startup.Rs"               "test10.out"              
[79] "test12.out"               "test3.out"               
[81] "test4.out"                "test7.out"               
[83] "test8.out"                "tmp3a.dat"               
[85] "tmp4a.dat"                "vtextexoreal.dat"        
> 
> # What is available in RSiena?
> 
>          ?RSiena
RSiena-package             package:RSiena              R Documentation

_S_i_m_u_l_a_t_i_o_n _I_n_v_e_s_t_i_g_a_t_i_o_n _f_o_r _E_m_p_i_r_i_c_a_l _N_e_t_w_o_r_k _A_n_a_l_y_s_i_s

_D_e_s_c_r_i_p_t_i_o_n:

     Fits statistical models to longitudinal sets of networks, and to
     longitudinal sets of networks and behavioral variables. Not only
     one-mode networks but also two-mode networks and multivariate
     networks are allowed. The models are stochastic actor-oriented
     models.

     Package '"RSienaTest"' is the development version, and is
     distributed through R-Forge, see <URL:
     http://r-forge.r-project.org/R/?group_id=461>. Package '"RSiena"'
     is the official release.

_D_e_t_a_i_l_s:

     Use 'siena07' to fit a model.

     Data objects can be created from matrices and vectors using
     'sienaDependent', 'coCovar' etc., and finally 'sienaDataCreate'.
     Another possibility (but with less flexibility) is via the Gui
     displayed by 'siena01Gui', or via 'sienaDataCreateFromSession'.

     Effects are selected using an _effects_ object, which can be
     created using 'getEffects'.

     Control of the estimation algorithm requires a 'sienaAlgorithm'
     object that defines the settings (parameters) of the algorithm,
     and which can be created by 'sienaAlgorithmCreate' (alias
     'sienaModelCreate').

     More detailed help is available in the manual which you can
     display using
     'RShowDoc("RSiena_Manual", package="RSiena")'

       Package:               RSiena                                              
       Type:                  Package                                             
       Version:               1.1-232                                             
       Date:                  2013-06-18                                          
       Depends:               R (>= 2.15.0)                                       
       Imports:               Matrix                                              
       Suggests:              tcltk, network, codetools, lattice, MASS, parallel, 
                              xtable, tools 
       SystemRequirements:    GNU make, tcl/tk 8.5, Tktable                       
       License:               GPL-2                                               
       LazyData:              yes                                                 
       NeedsCompilation: yes                                                      
       BuildResaveData:       no                                                  
      
_A_u_t_h_o_r(_s):

     Ruth Ripley, Krists Boitmanis, Tom Snijders.  Contributions by
     Josh Lospinoso, Charlotte Greenan, Christian Steglich, Johan
     Koskinen, Mark Ortmann, and Nynke Niezink.

     Maintainer: Tom A.B. Snijders <tom.snijders@nuffield.ox.ac.uk>

_R_e_f_e_r_e_n_c_e_s:

        • Schweinberger, Michael, and Snijders, Tom A.B. (2007). Markov
          models for digraph panel data: Monte Carlo-based derivative
          estimation.  _Computational Statistics and Data Analysis_ 51,
          4465-4483.

        • Snijders, Tom A.B. (2001).  The statistical evaluation of
          social network dynamics.  _Sociological Methodology_, 31,
          361-395.

        • Snijders, Tom A.B., Steglich, Christian E.G., and
          Schweinberger, Michael (2007). Modeling the co-evolution of
          networks and behavior.  Pp. 41-71 in _Longitudinal models in
          the behavioral and related sciences_, edited by Kees van
          Montfort, Han Oud and Albert Satorra; Lawrence Erlbaum.

        • Steglich, Christian E. G., Snijders, Tom A. B., and Pearson,
          Michael A. (2010). Dynamic networks and behavior: Separating
          selection from influence. Sociological Methodology, 40,
          329-393.

        • Further see the extensive manual accessible by the command
          'RShowDoc("RSiena_Manual", package="RSiena")' and the website
          <URL: http://www.stats.ox.ac.uk/~snijders/siena/> .

_S_e_e _A_l_s_o:

     'siena07'

_E_x_a_m_p_l_e_s:

     mynet1 <- sienaDependent(array(c(tmp3, tmp4), dim=c(32, 32, 2)))
     mydata <- sienaDataCreate(mynet1)
     myeff <- getEffects(mydata)
     myeff <- includeEffects(myeff, transTrip)
     myeff
     myalgorithm <- sienaAlgorithmCreate(nsub=3, n3=200)
     ans <- siena07(myalgorithm, data=mydata, effects=myeff, batch=TRUE)
     summary(ans)
     
> 
> # (these are .htlm HELP PAGES)
> 
> # At the bottom of this page, when you click on "Index",
> # a list of all the available functions is shown in your browser.
> # The same list is shown in the graphical user interface for R by requesting
> 
>          library(help=RSiena)

		Information on package 'RSiena'

Description:

Package:              RSiena
Type:                 Package
Title:                Siena - Simulation Investigation for Empirical
                      Network Analysis
Version:              1.1-232
Date:                 2013-06-18
Author:               Ruth Ripley, Krists Boitmanis, Tom A.B. Snijders
Depends:              R (>= 2.15.0)
Imports:              Matrix
Suggests:             tcltk, network, codetools, lattice, MASS,
                      parallel, xtable, tools
SystemRequirements:   GNU make, tcl/tk 8.5, Tktable
Maintainer:           Tom A.B. Snijders
                      <tom.snijders@nuffield.ox.ac.uk>
Description:          Fits models to longitudinal network data
License:              GPL-2
LazyLoad:             yes
LazyData:             yes
NeedsCompilation:     yes
BuildResaveData:      no
URL:                  http://www.stats.ox.ac.uk/~snijders/siena
Packaged:             2013-06-18 09:25:43 UTC; Tom.Snijders
Built:                R 3.0.1; i386-w64-mingw32; 2013-06-18 09:25:56
                      UTC; windows

Index:

RSiena-package          Simulation Investigation for Empirical Network
                        Analysis
allEffects              Internal data frame used to construct effect
                        objects.
coCovar                 Function to create a constant covariate object
coDyadCovar             Function to create a constant dyadic covariate
                        object.
edit.sienaEffects       Allow editing of a sienaEffects object if a gui
                        is available.
effectsDocumentation    Function to create a table of documentation of
                        effect names, short names etc.
getEffects              Function to create a Siena effects object
hn3401                  Network data: excerpt from 'Dutch Social
                        Behavior Data Set' of Chris Baerveldt.
includeEffects          Function to include effects in a Siena model
includeInteraction      Function to create user-specified interactions
                        for a Siena model.
includeTimeDummy        Function to include time dummy effects in a
                        Siena model
installGui              Obsolete function to start up the installer for
                        the standalone Gui.
iwlsm                   Function to fit an iterated weighted least
                        squares model.
maxlikefn               A ML version of FRAN
n3401                   Network data: excerpt from 'Dutch Social
                        Behavior Data Set' of Chris Baerveldt.
plot.sienaTimeTest      Functions to plot assessment of time
                        heterogeneity of parameters
print.sienaEffects      Print methods for Siena effects objects
print.sienaMeta         Methods for processing sienaMeta objects
print01Report           Function to produce the Siena01 report from R
                        objects
s50                     Network data: excerpt from 'Teenage Friends and
                        Lifestyle Study' data.
s501                    Network 1 data: excerpt from 'Teenage Friends
                        and Lifestyle Study' data.
s502                    Network 2 data: excerpt from 'Teenage Friends
                        and Lifestyle Study' data.
s503                    Network 3 data: excerpt from 'Teenage Friends
                        and Lifestyle Study' data.
s50a                    Alcohol use data: excerpt from 'Teenage Friends
                        and Lifestyle Study' data
setEffect               Function to set various columns in an effects
                        object in a Siena model
siena01Gui              User interface
siena07                 Function to estimate parameters in a Siena
                        model
siena08                 Function to perform a meta analysis of a
                        collection of Siena fits.
sienaAlgorithmCreate    Function to create an object containing the
                        algorithm specifications for parameter
                        estimation in RSiena
sienaCompositionChange
                        Functions to create a Siena composition change
                        object
sienaDataConstraint     Function to change the values of the
                        constraints between networks.
sienaDataCreate         Function to create a Siena data object
sienaDataCreateFromSession
                        Creates a Siena data object from a Siena
                        session file
sienaDependent          Function to create a dependent variable for a
                        Siena model
sienaFit.methods        Methods for processing sienaFit objects,
                        produced by 'siena07'.
sienaGOF                Functions to assess goodness of fit for SAOMs
sienaGOF-auxiliary      Auxiliary functions for goodness of fit
                        assessment by 'sienaGOF'
sienaGroupCreate        Function to group together several Siena data
                        objects
sienaModelOptions       Function to allow entry of model options
sienaNodeSet            Function to create a node set
sienaTimeTest           Functions to assess and account for time
                        heterogeneity of parameters
simstats0c              Versions of FRAN
summary.iwlsm           Summary method for Iterative Weighted Least
                        Squares Models
tmp3                    van de Bunt's Freshman dataset, time point 3
tmp4                    van de Bunt's Freshman dataset, time point 4
updateTheta             Function to update the initial values of theta.
varCovar                Function to create a changing covariate object.
varDyadCovar            Function to create a changing dyadic covariate
                        object.
xtable                  Access xtable in package xtable
> 
> # Where is the manual?
> 
> #       RShowDoc("RSiena_Manual", package="RSiena")
> 
> # (Note, however, that it is possible that the Siena website
> # at http://www.stats.ox.ac.uk/~snijders/siena/ contains a more recent version.)
> 
> # Each data is named (for example below we name it friend.data.w1)
> # so that we can call it as an object within R.
> # If you read an object straight into R, it will treat it as a
> # dataset, or in R terminology a "data frame".
> # Here this is not what we want, therefore on reading
> # we will immediately convert it to a matrix.
> # R will read in many data formats, the command to read them is read.table.
>        ?read.table
read.table                package:utils                R Documentation

_D_a_t_a _I_n_p_u_t

_D_e_s_c_r_i_p_t_i_o_n:

     Reads a file in table format and creates a data frame from it,
     with cases corresponding to lines and variables to fields in the
     file.

_U_s_a_g_e:

     read.table(file, header = FALSE, sep = "", quote = "\"'",
                dec = ".", row.names, col.names,
                as.is = !stringsAsFactors,
                na.strings = "NA", colClasses = NA, nrows = -1,
                skip = 0, check.names = TRUE, fill = !blank.lines.skip,
                strip.white = FALSE, blank.lines.skip = TRUE,
                comment.char = "#",
                allowEscapes = FALSE, flush = FALSE,
                stringsAsFactors = default.stringsAsFactors(),
                fileEncoding = "", encoding = "unknown", text)
     
     read.csv(file, header = TRUE, sep = ",", quote = "\"",
              dec = ".", fill = TRUE, comment.char = "", ...)
     
     read.csv2(file, header = TRUE, sep = ";", quote = "\"",
               dec = ",", fill = TRUE, comment.char = "", ...)
     
     read.delim(file, header = TRUE, sep = "\t", quote = "\"",
                dec = ".", fill = TRUE, comment.char = "", ...)
     
     read.delim2(file, header = TRUE, sep = "\t", quote = "\"",
                 dec = ",", fill = TRUE, comment.char = "", ...)
     
_A_r_g_u_m_e_n_t_s:

    file: the name of the file which the data are to be read from.
          Each row of the table appears as one line of the file.  If it
          does not contain an _absolute_ path, the file name is
          _relative_ to the current working directory, 'getwd()'.
          Tilde-expansion is performed where supported.  As from R
          2.10.0 this can be a compressed file (see 'file').

          Alternatively, 'file' can be a readable text-mode connection
          (which will be opened for reading if necessary, and if so
          'close'd (and hence destroyed) at the end of the function
          call).  (If 'stdin()' is used, the prompts for lines may be
          somewhat confusing.  Terminate input with a blank line or an
          EOF signal, 'Ctrl-D' on Unix and 'Ctrl-Z' on Windows.  Any
          pushback on 'stdin()' will be cleared before return.)

          'file' can also be a complete URL.  (For the supported URL
          schemes, see the 'URLs' section of the help for 'url'.)

  header: a logical value indicating whether the file contains the
          names of the variables as its first line.  If missing, the
          value is determined from the file format: 'header' is set to
          'TRUE' if and only if the first row contains one fewer field
          than the number of columns.

     sep: the field separator character.  Values on each line of the
          file are separated by this character.  If 'sep = ""' (the
          default for 'read.table') the separator is 'white space',
          that is one or more spaces, tabs, newlines or carriage
          returns.

   quote: the set of quoting characters. To disable quoting altogether,
          use 'quote = ""'.  See 'scan' for the behaviour on quotes
          embedded in quotes.  Quoting is only considered for columns
          read as character, which is all of them unless 'colClasses'
          is specified.

     dec: the character used in the file for decimal points.

row.names: a vector of row names.  This can be a vector giving the
          actual row names, or a single number giving the column of the
          table which contains the row names, or character string
          giving the name of the table column containing the row names.

          If there is a header and the first row contains one fewer
          field than the number of columns, the first column in the
          input is used for the row names.  Otherwise if 'row.names' is
          missing, the rows are numbered.

          Using 'row.names = NULL' forces row numbering. Missing or
          'NULL' 'row.names' generate row names that are considered to
          be 'automatic' (and not preserved by 'as.matrix').

col.names: a vector of optional names for the variables.  The default
          is to use '"V"' followed by the column number.

   as.is: the default behavior of 'read.table' is to convert character
          variables (which are not converted to logical, numeric or
          complex) to factors.  The variable 'as.is' controls the
          conversion of columns not otherwise specified by
          'colClasses'.  Its value is either a vector of logicals
          (values are recycled if necessary), or a vector of numeric or
          character indices which specify which columns should not be
          converted to factors.

          Note: to suppress all conversions including those of numeric
          columns, set 'colClasses = "character"'.

          Note that 'as.is' is specified per column (not per variable)
          and so includes the column of row names (if any) and any
          columns to be skipped.

na.strings: a character vector of strings which are to be interpreted
          as 'NA' values.  Blank fields are also considered to be
          missing values in logical, integer, numeric and complex
          fields.

colClasses: character.  A vector of classes to be assumed for the
          columns.  Recycled as necessary, or if the character vector
          is named, unspecified values are taken to be 'NA'.

          Possible values are 'NA' (the default, when 'type.convert' is
          used), '"NULL"' (when the column is skipped), one of the
          atomic vector classes (logical, integer, numeric, complex,
          character, raw), or '"factor"', '"Date"' or '"POSIXct"'.
          Otherwise there needs to be an 'as' method (from package
          'methods') for conversion from '"character"' to the specified
          formal class.

          Note that 'colClasses' is specified per column (not per
          variable) and so includes the column of row names (if any).

   nrows: integer: the maximum number of rows to read in.  Negative and
          other invalid values are ignored.

    skip: integer: the number of lines of the data file to skip before
          beginning to read data.

check.names: logical.  If 'TRUE' then the names of the variables in the
          data frame are checked to ensure that they are syntactically
          valid variable names.  If necessary they are adjusted (by
          'make.names') so that they are, and also to ensure that there
          are no duplicates.

    fill: logical. If 'TRUE' then in case the rows have unequal length,
          blank fields are implicitly added.  See 'Details'.

strip.white: logical. Used only when 'sep' has been specified, and
          allows the stripping of leading and trailing white space from
          unquoted 'character' fields ('numeric' fields are always
          stripped).  See 'scan' for further details (including the
          exact meaning of 'white space'), remembering that the columns
          may include the row names.

blank.lines.skip: logical: if 'TRUE' blank lines in the input are
          ignored.

comment.char: character: a character vector of length one containing a
          single character or an empty string.  Use '""' to turn off
          the interpretation of comments altogether.

allowEscapes: logical.  Should C-style escapes such as '\n' be
          processed or read verbatim (the default)?  Note that if not
          within quotes these could be interpreted as a delimiter (but
          not as a comment character).  For more details see 'scan'.

   flush: logical: if 'TRUE', 'scan' will flush to the end of the line
          after reading the last of the fields requested.  This allows
          putting comments after the last field.

stringsAsFactors: logical: should character vectors be converted to
          factors?  Note that this is overridden by 'as.is' and
          'colClasses', both of which allow finer control.

fileEncoding: character string: if non-empty declares the encoding used
          on a file (not a connection) so the character data can be
          re-encoded.  See the 'Encoding' section of the help for
          'file', the 'R Data Import/Export Manual' and 'Note'.

encoding: encoding to be assumed for input strings.  It is used to mark
          character strings as known to be in Latin-1 or UTF-8 (see
          'Encoding'): it is not used to re-encode the input, but
          allows R to handle encoded strings in their native encoding
          (if one of those two).  See 'Value'.

    text: character string: if 'file' is not supplied and this is, then
          data are read from the value of 'text' via a text connection.
          Notice that a literal string can be used to include (small)
          data sets within R code.

     ...: Further arguments to be passed to 'read.table'.

_D_e_t_a_i_l_s:

     This function is the principal means of reading tabular data into
     R.

     Unless 'colClasses' is specified, all columns are read as
     character columns and then converted using 'type.convert' to
     logical, integer, numeric, complex or (depending on 'as.is')
     factor as appropriate.  Quotes are (by default) interpreted in all
     fields, so a column of values like '"42"' will result in an
     integer column.

     A field or line is 'blank' if it contains nothing (except
     whitespace if no separator is specified) before a comment
     character or the end of the field or line.

     If 'row.names' is not specified and the header line has one less
     entry than the number of columns, the first column is taken to be
     the row names.  This allows data frames to be read in from the
     format in which they are printed.  If 'row.names' is specified and
     does not refer to the first column, that column is discarded from
     such files.

     The number of data columns is determined by looking at the first
     five lines of input (or the whole file if it has less than five
     lines), or from the length of 'col.names' if it is specified and
     is longer.  This could conceivably be wrong if 'fill' or
     'blank.lines.skip' are true, so specify 'col.names' if necessary
     (as in the 'Examples').

     'read.csv' and 'read.csv2' are identical to 'read.table' except
     for the defaults.  They are intended for reading 'comma separated
     value' files ('.csv') or ('read.csv2') the variant used in
     countries that use a comma as decimal point and a semicolon as
     field separator.  Similarly, 'read.delim' and 'read.delim2' are
     for reading delimited files, defaulting to the TAB character for
     the delimiter.  Notice that 'header = TRUE' and 'fill = TRUE' in
     these variants, and that the comment character is disabled.

     The rest of the line after a comment character is skipped; quotes
     are not processed in comments.  Complete comment lines are allowed
     provided 'blank.lines.skip = TRUE'; however, comment lines prior
     to the header must have the comment character in the first
     non-blank column.

     Quoted fields with embedded newlines are supported except after a
     comment character.

_V_a_l_u_e:

     A data frame ('data.frame') containing a representation of the
     data in the file.

     Empty input is an error unless 'col.names' is specified, when a
     0-row data frame is returned: similarly giving just a header line
     if 'header = TRUE' results in a 0-row data frame.  Note that in
     either case the columns will be logical unless 'colClasses' was
     supplied.

     Character strings in the result (including factor levels) will
     have a declared encoding if 'encoding' is '"latin1"' or '"UTF-8"'.

_M_e_m_o_r_y _u_s_a_g_e:

     These functions can use a surprising amount of memory when reading
     large files.  There is extensive discussion in the 'R Data
     Import/Export' manual, supplementing the notes here.

     Less memory will be used if 'colClasses' is specified as one of
     the six atomic vector classes.  This can be particularly so when
     reading a column that takes many distinct numeric values, as
     storing each distinct value as a character string can take up to
     14 times as much memory as storing it as an integer.

     Using 'nrows', even as a mild over-estimate, will help memory
     usage.

     Using 'comment.char = ""' will be appreciably faster than the
     'read.table' default.

     'read.table' is not the right tool for reading large matrices,
     especially those with many columns: it is designed to read _data
     frames_ which may have columns of very different classes.  Use
     'scan' instead for matrices.

_N_o_t_e:

     The columns referred to in 'as.is' and 'colClasses' include the
     column of row names (if any).

     Because this function uses 'pushBack' it can only handle character
     strings which can be represented in the current locale.  So
     although 'fileEncoding' can be used to specify the encoding of the
     input file (or a connection can be specified which re-encodes),
     the implied re-encoding must be possible.  This is not a problem
     in UTF-8 locales, but it can be on Windows - 'readLines' or 'scan'
     can be used to avoid this limitation since they have special
     provisions to convert input to UTF-8.

_R_e_f_e_r_e_n_c_e_s:

     Chambers, J. M. (1992) _Data for models._ Chapter 3 of
     _Statistical Models in S_ eds J. M. Chambers and T. J. Hastie,
     Wadsworth & Brooks/Cole.

_S_e_e _A_l_s_o:

     The 'R Data Import/Export' manual.

     'scan', 'type.convert', 'read.fwf' for reading _f_ixed _w_idth
     _f_ormatted input; 'write.table'; 'data.frame'.

     'count.fields' can be useful to determine problems with reading
     files which result in reports of incorrect record lengths (see the
     'Examples' below).

     <URL: http://tools.ietf.org/html/rfc4180> for the IANA definition
     of CSV files (which requires comma as separator and CRLF line
     endings).

_E_x_a_m_p_l_e_s:

     ## using count.fields to handle unknown maximum number of fields
     ## when fill = TRUE
     test1 <- c(1:5, "6,7", "8,9,10")
     tf <- tempfile()
     writeLines(test1, tf)
     
     read.csv(tf, fill = TRUE) # 1 column
     ncol <- max(count.fields(tf, sep = ","))
     read.csv(tf, fill = TRUE, header = FALSE,
              col.names = paste0("V", seq_len(ncol)))
     unlink(tf)
     
     ## "Inline" data set, using text=
     ## Notice that leading and trailing empty lines are auto-trimmed
     
     read.table(header = TRUE, text = "
     a b
     1 2
     3 4
     ")
     
> # In the help file for read.table, look at the section "Value",
> # which is there in every help page:
> # it indicates the class of the object that is produced by the function.
> # For read.table, the value is a data frame; below we see what this is.
> #
> # If we wished to read a .csv file we would have
> # used the read.csv command.
> # The pathnames must have forward slashes, or double backslashes.
> # If single backslashes are used, one of the error messages will be:
> #   1: '\R' is an unrecognized escape in a character string
> 
> #-----------------------------------------------------------------------------
> 
> # Quick start (Data assignment).
> # Please make sure the s50 data set is in your working directory.
> # The data set is on the Siena website ("Data sets" tab) and must be
> # unzipped in your working directory.
> 
>         friend.data.w1 <- as.matrix(read.table("s50-network1.dat"))
>         friend.data.w2 <- as.matrix(read.table("s50-network2.dat"))
>         friend.data.w3 <- as.matrix(read.table("s50-network3.dat"))
>         drink <- as.matrix(read.table("s50-alcohol.dat"))
>         smoke <- as.matrix(read.table("s50-smoke.dat"))
> 
> # Explanation of data structures and formats below
> 
> ################# - DIFFERENT DATA FORMATS - #######################################
> ###
> ### The assignments here involve reading in data to a "data frame"
> ### 		data <- read.table("data.dat")
> ### reads your text file into a "data frame"; check the class of the object "data"
> ###        >  class(data)
> ###        [1] "data.frame"
> ### If your data is not a ".dat" file, alternative import methods are
> ### ----- ".csv" ------------------------------------------------------------------
> ###        data <- read.table("c:/data.csv", header=TRUE,
> ###                                   sep=",", row.names="iden")
> ### ---- ".csv" -------------------------------------------------------------------
> ###        data <- read.csv("data.csv",header=T)
> ### ---- ".spss" ------------------------------------------------------------------
> ###        library(foreign)
> ###        data <- read.spss("c:/data.spss")
> ### ---- ".dta" -------------------------------------------------------------------
> ###        library(foreign)
> ###        data <- read.dta("c:/data.dta")
> ###
> ####################################################################################
> 
> ################# - FROM DATA FRAME TO MATRIX - ####################################
> ###
> ### ---- Data frame ----------------------------------------------------------------
> ### The data frame is like a spreadsheet of cases by variables,
> ### where the variables are the columns, and these have the names
> ###        names( data )
> ### a spreadsheet view of a data frame is given by the fix() command
> ###        fix( data )
> ###
> ### All changes you make in this spreadsheet will be saved automatically,
> ### so beware.
> ###
> ### As an example create two vectors:
> 	      height <- c( 120, 150, 180, 200, 190, 177, 170, 125, 141, 157 )
>       	weight <- c( 11, 14, 17, 18, 17, 18, 11, 12, 10, 15 )
> ### The function c() combines its argument into a vector
> ### (or into a list, but we are not concerned with that possibility now.).
> ### These two vectors can be collected as variables in a data frame
> 	      data <- data.frame( height, weight )
> ### and look at the results
> 		    data
   height weight
1     120     11
2     150     14
3     180     17
4     200     18
5     190     17
6     177     18
7     170     11
8     125     12
9     141     10
10    157     15
> ### The columns of a data frame may be extracted using a "$" sign and their names.
> ### For example:
> 		names( data )
[1] "height" "weight"
> 		data$height
 [1] 120 150 180 200 190 177 170 125 141 157
> ### Or by "[]" and column number, e.g.
> 		data[1]
   height
1     120
2     150
3     180
4     200
5     190
6     177
7     170
8     125
9     141
10    157
>   	data[  , 1]
 [1] 120 150 180 200 190 177 170 125 141 157
>   	data[ 1,  ]
  height weight
1    120     11
> ### If you wish to see the structure of an object, such as data, then request
>       str(data)
'data.frame':	10 obs. of  2 variables:
 $ height: num  120 150 180 200 190 177 170 125 141 157
 $ weight: num  11 14 17 18 17 18 11 12 10 15
> ### Objects often have attributes:
>       attributes(data)
$names
[1] "height" "weight"

$row.names
 [1]  1  2  3  4  5  6  7  8  9 10

$class
[1] "data.frame"

> 
> ### ---- Matrix -------------------------------------------------------------------
> ### A "matrix" is a numeric object ordered like a matrix with dimensions
> ### ( dim() ) given by the number of rows and columns, e.g.
> 		dim( friend.data.w1 )
[1] 50 50
> 
> ### If you wish to play around with a copy of the matrix, e.g. having the name "data",
> ### you can make the copy by the command
> 		data <- friend.data.w1
> ### The earlier object that we created with the name "data" now has been lost.
> ### Elements if matrices can be accessed by using square brackets.
> ### For example, the element of "data" in row 2 and column 3 is given by
> 		data[ 2, 3 ]
V3 
 0 
> ### the first three rows of a matrix called data are given by
> 		data[ 1:3, ]
     V1 V2 V3 V4 V5 V6 V7 V8 V9 V10 V11 V12 V13 V14 V15 V16 V17 V18 V19 V20 V21
[1,]  0  0  0  0  0  0  0  0  0   0   1   0   0   1   0   0   0   0   0   0   0
[2,]  0  0  0  0  0  0  1  0  0   0   1   0   0   0   0   0   0   0   0   0   0
[3,]  0  0  0  1  0  0  0  0  1   0   0   0   0   0   0   0   0   0   0   0   0
     V22 V23 V24 V25 V26 V27 V28 V29 V30 V31 V32 V33 V34 V35 V36 V37 V38 V39
[1,]   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
[2,]   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
[3,]   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
     V40 V41 V42 V43 V44 V45 V46 V47 V48 V49 V50
[1,]   0   0   0   0   0   0   0   0   0   0   0
[2,]   0   0   0   0   0   0   0   0   0   0   0
[3,]   0   0   0   0   0   0   0   0   0   0   0
> ### columns 2, 5, and 6 are given by
> 		data[ , c( 2, 5, 6) ]
      V2 V5 V6
 [1,]  0  0  0
 [2,]  0  0  0
 [3,]  0  0  0
 [4,]  0  0  0
 [5,]  0  0  0
 [6,]  0  0  0
 [7,]  1  0  0
 [8,]  0  0  1
 [9,]  0  0  0
[10,]  0  0  0
[11,]  1  0  0
[12,]  0  0  0
[13,]  0  0  0
[14,]  0  0  0
[15,]  0  0  0
[16,]  0  0  0
[17,]  0  0  0
[18,]  0  0  0
[19,]  0  0  0
[20,]  0  0  0
[21,]  0  0  0
[22,]  0  0  0
[23,]  0  0  0
[24,]  0  0  0
[25,]  0  0  0
[26,]  0  0  0
[27,]  0  0  0
[28,]  0  0  0
[29,]  0  0  0
[30,]  0  0  0
[31,]  0  0  0
[32,]  0  1  0
[33,]  0  0  0
[34,]  0  0  0
[35,]  0  0  0
[36,]  0  0  0
[37,]  0  0  0
[38,]  0  0  0
[39,]  0  0  0
[40,]  0  0  0
[41,]  0  0  0
[42,]  0  0  0
[43,]  0  0  0
[44,]  0  0  0
[45,]  0  0  0
[46,]  0  0  0
[47,]  0  0  0
[48,]  0  0  0
[49,]  0  0  0
[50,]  0  0  0
> ### Indeed there are a lot of zeros - networks tend to be sparse.
> 
> ### ---- Converting data frame to matrix -------------------------------------------
> ###
> ### Most classes can be converted to other classes through "as.typeofclass ()", e.g.
> ### if "data" would be an object with a matrix-like structure,
> ### then it could be converted to the class "matrix" by the command
> 	      data <- as.matrix( data )
> 
> ####################################################################################
> 
> 
> ################## - EXAMPLE FOR ARC LIST - ########################################
> ###
> ### From the Siena website you can download the data set arclistdata.dat:
> ###   http://www.stats.ox.ac.uk/~snijders/siena/arclistdata.dat
> ### Download this file and save it in your current directory.
> 		ArcList <- read.table( "arclistdata.dat", header=FALSE ) # creates data frame
> ### Note the capitalization.
> ### Now ArcList is a data.frame
> ### (we saw this above in the help file for read.table).
> ### What are its dimensions?
>             dim(ArcList)
[1] 351   4
> ### You can get an impression of it by looking at the start of the object:
>             head(ArcList)
  V1 V2 V3 V4
1 14  1  1  1
2  7  2  1  1
3 11  2  1  1
4  4  3  1  1
5  9  3  1  1
6  3  4  1  1
> ### This is a data file in arclist format, with columns:
> ### sender id, receiver id, value of tie, wave.
> ### Add names to the columns:
> 		names(ArcList) <- c( "sid", "recid", "bff", "wid" )
> ### The bff ("best friend") variable does not have much variability:
>             table(ArcList$bff)

  1 
351 
> ### It may be nice to order the rows by sender, then by receiver, then by wave.
> ### The tedious way to do this is
>             ArcList <- ArcList[ order( ArcList$sid, ArcList$recid, ArcList$wid), ]
> ### To understand this, you may look at the help page for function order()
> ### The rows of Arclist are ordered first by ArcList$sid, then by ArcList$recid,
> ### and then by ArcList$wid;
> ### these reordered rows then are put into the object ArcList,
> ### this overwriting the earlier contents of this object.
> ### This way is tedious because it is repeated all the time that the names
> ### sid, recid, wid refer to the ArcList object.
> ### The less tedious way uses the function "with".
> ### The with(a, b) function tells R that b must be calculated,
> ### while the otherwise unknown names refer to data set a:
> 		ArcList <- with( ArcList, ArcList[ order( sid, recid, wid), ] )
> ### Now suppose we want to create a separate set of records for each wave.
> ### Select by wave:
> 
> 		SAff.1 <- with(ArcList, ArcList[ wid == 1, ] ) #extracts edges in wave 1
> 		SAff.2 <- with(ArcList, ArcList[ wid == 2, ] ) #extracts edges in wave 2
> 		SAff.3 <- with(ArcList, ArcList[ wid == 3, ] ) #extracts edges in wave 3
> 		n <- 50 # this is the number of nodes which is not provided by the arclist
> 
> ### and has to be repeated separately for each of the waves
> ### (you may loop over the waves if you like),
> 
> ### For transforming a matrix into an adjacency list
> 
> ## create indicator matrix of non-zero entries of a
>         ones <- !friend.data.w1 %in% 0
> ## create empty edge list of desired length
>         edges <- matrix(0, sum(ones), 3)
> # fill the columns of the edge list
>         edges[, 1] <- row(friend.data.w1)[ones]
>         edges[, 2] <- col(friend.data.w1)[ones]
>         edges[, 3] <- friend.data.w1[ones]
> # if desired, order edge list by senders and then receivers
>         edges <- edges[order(edges[, 1], edges[, 2]), ]
> 
> ### For transforming an arclist into a matrix
> 	## First remove the fourth coulmn indicating the wave, so that we are left
> 	## with sender, receiver and value of the tie, and make it into matrix format
> 		SAff.1.copy <- SAff.1[, 1:3]
> 		SAff.1.copy <- as.matrix(SAff.1.copy)
> # create empty adjacency matrix
>         adj <- matrix(0, 50, 50)
> # put edge values in desired places
>         adj[edges[, 1:2]] <- edges[, 3]
> ### Also see Section 4.1.1 of the Siena manual.
> 
> 
> ###################################################################################
> ################ - READING IN PAJEK DATA - ########################################
> ###
> ### If you have data in Pajek format you can use the package "network" in order
> ### to convert it to a network object. This example is from ?read.paj
> ###   require( network )
> ###
> ###   par( mfrow = c( 2, 2 ) )
> ###
> ###test.net.1 <- read.paj("http://vlado.fmf.uni-lj.si/pub/networks/data/GD/gd98/A98.net" )
> ###   plot( test.net.1,main = test.net.1$gal$title )
> ###   test.net.2 <- read.paj("http://vlado.fmf.uni-lj.si/pub/networks/data/mix/USAir97.net" )
> ###   plot( test.net.2,main = test.net.2$gal$title )
> ###
> ###################################################################################
> 
> # Before we work with the data, we want to be sure it is correct. A simple way
> # to check that our data is a matrix is the command class()
> 
>         class( friend.data.w1 )
[1] "matrix"
> 
> # to list the properties of an object attributes( friend.data.w1 )
> # (different classes have different attributes)
> 
> # To check that all the data has been read in, we can use the dim() command.
> # The adjacency matrix should have the same dimensions as the original data
> # (here, 50 by 50).
> 
>         dim(friend.data.w1)
[1] 50 50
>         dim(drink)
[1] 50  3
> 
> # To check the values are correct, including missing values, we can use
> # the following commands to tabulate the variables.
> 
>         table( friend.data.w1, useNA = 'always' )
friend.data.w1
   0    1 <NA> 
2387  113    0 
>         table( friend.data.w2, useNA = 'always' )
friend.data.w2
   0    1 <NA> 
2384  116    0 
>         table( friend.data.w3, useNA = 'always' )
friend.data.w3
   0    1 <NA> 
2378  122    0 
>         table( drink, useNA = 'always' )
drink
   1    2    3    4    5 <NA> 
   9   41   41   42   17    0 
>         table( smoke, useNA = 'always' )
smoke
   1    2    3 <NA> 
 102   15   33    0 
> 
> # NA is the R code for missing data (Not Available).
> # This data set happens to have no missings
> # (see the data description on the Siena website).
> # If there are any missings, it is necessary to tell R about the missing data codes.
> # Let us do as if the missing codes for the friendship network were 6 and 9.
> # This leads to the following commands.
> # (For new R users: the c() function used here as "c(6,9)" constructs
> #  a vector [c for column] consisting of the numbers 6 and 9.
> #  This function is used a lot in basic R.)
> 
>         friend.data.w1[ friend.data.w1 %in% c(6,9) ] <- NA
>         friend.data.w2[ friend.data.w2 %in% c(6,9) ] <- NA
>         friend.data.w3[ friend.data.w3 %in% c(6,9) ] <- NA
> 
> # Commands for descriptive analysis are in the script: RscriptSNADescriptives.R
> 
> ############## - SELECTING SUBSETS OF DATA - ###################################
> 
> # To select a subset of the data based on an actor variable, say,
> # those who have the value 2 or 3 on drinking at time 1
> # (the possibilities are endless, but hopefully this will serve as a pattern)
> 
>       use <- drink[, 1] %in% c(2, 3)
> 
> # This creates a logical vector which is TRUE for the cases where the condition
> # is satisfied. To view or check, display the vectors:
> 
>      	drink[ , 1 ]
 [1] 3 2 2 2 3 4 4 4 2 4 5 5 3 3 4 4 2 4 3 2 1 3 4 3 3 4 2 2 3 1 4 4 3 2 3 4 2 3
[39] 2 1 4 4 2 5 2 2 2 2 1 1
>      	use
 [1]  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE
[13]  TRUE  TRUE FALSE FALSE  TRUE FALSE  TRUE  TRUE FALSE  TRUE FALSE  TRUE
[25]  TRUE FALSE  TRUE  TRUE  TRUE FALSE FALSE FALSE  TRUE  TRUE  TRUE FALSE
[37]  TRUE  TRUE  TRUE FALSE FALSE FALSE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE
[49] FALSE FALSE
> 
> # and the number of selected cases is displayed by
> 
>       sum( use )
[1] 28
> 
> # or
> 
> 	table( use )
use
FALSE  TRUE 
   22    28 
> 
> # To have this arrayed more neatly side by side, you can create and display
> # a matrix with the desired information,
> 
>         aa <- matrix(nrow=50, ncol=2)
>         aa[,1] <- drink[,1]
>         aa[,2] <- use
>         aa
      [,1] [,2]
 [1,]    3    1
 [2,]    2    1
 [3,]    2    1
 [4,]    2    1
 [5,]    3    1
 [6,]    4    0
 [7,]    4    0
 [8,]    4    0
 [9,]    2    1
[10,]    4    0
[11,]    5    0
[12,]    5    0
[13,]    3    1
[14,]    3    1
[15,]    4    0
[16,]    4    0
[17,]    2    1
[18,]    4    0
[19,]    3    1
[20,]    2    1
[21,]    1    0
[22,]    3    1
[23,]    4    0
[24,]    3    1
[25,]    3    1
[26,]    4    0
[27,]    2    1
[28,]    2    1
[29,]    3    1
[30,]    1    0
[31,]    4    0
[32,]    4    0
[33,]    3    1
[34,]    2    1
[35,]    3    1
[36,]    4    0
[37,]    2    1
[38,]    3    1
[39,]    2    1
[40,]    1    0
[41,]    4    0
[42,]    4    0
[43,]    2    1
[44,]    5    0
[45,]    2    1
[46,]    2    1
[47,]    2    1
[48,]    2    1
[49,]    1    0
[50,]    1    0
> 	#the first column contains the drink level and the second whether this
> 	#level is 2 or 3 (1) or not (0)
> 
> # or as a shorter alternative
> 
> 	aa <- cbind(drink[ , 1 ],use)
> 	aa
        use
 [1,] 3   1
 [2,] 2   1
 [3,] 2   1
 [4,] 2   1
 [5,] 3   1
 [6,] 4   0
 [7,] 4   0
 [8,] 4   0
 [9,] 2   1
[10,] 4   0
[11,] 5   0
[12,] 5   0
[13,] 3   1
[14,] 3   1
[15,] 4   0
[16,] 4   0
[17,] 2   1
[18,] 4   0
[19,] 3   1
[20,] 2   1
[21,] 1   0
[22,] 3   1
[23,] 4   0
[24,] 3   1
[25,] 3   1
[26,] 4   0
[27,] 2   1
[28,] 2   1
[29,] 3   1
[30,] 1   0
[31,] 4   0
[32,] 4   0
[33,] 3   1
[34,] 2   1
[35,] 3   1
[36,] 4   0
[37,] 2   1
[38,] 3   1
[39,] 2   1
[40,] 1   0
[41,] 4   0
[42,] 4   0
[43,] 2   1
[44,] 5   0
[45,] 2   1
[46,] 2   1
[47,] 2   1
[48,] 2   1
[49,] 1   0
[50,] 1   0
> 
> # Given this selection, submatrices can be formed in case the analyses
> # are to be done for this subset only:
> 
>         friend1.data.w1 <- friend.data.w1[ use, use ]
>         friend1.data.w2 <- friend.data.w2[ use, use ]
>         drink1 <- drink[ use, ]
> 
> 
> 
> ################################################################################
> ###
> ### ---- PROCEED TO RscriptSNADescriptives.R FOR DESCRIPTIVE ANALYSIS ----------
> ###
> ################################################################################
> ###############################################################################
> ###
> ### - Rscript02SienaVariableFormat.R: a script for the introduction to RSiena -
> ###
> ###                               version April 14, 2013
> ###############################################################################
> #
> # The introductory script is divided into the following script files:
> # Rscript01DataFormat.R, followed by
> # RScriptSNADescriptives.R, code for descriptive analysis of the data, and
> # Rscript02SienaVariableFormat.R, which formats data and specifies the model, and
> # Rscript03SienaRunModel.R, which runs the model and estimates parameters
> # Rscript04SienaBehaviour.R, which illustrates an example of analysing the
> # coevolution of networks and behaviour
> # Written with contributions by Robin Gauthier, Tom Snijders, Ruth Ripley,
> # Johan Koskinen, and Paulina Preciado.
> #
> # This script, Rscript02SienaVariableFormat.R, sets up the variables for analysis.
> # The manipulations in this script requires that you have gone through the
> # first part, "CALLING THE DATA AND PRELIMINARY MANIPULATIONS",
> # of the script "Rscript01DataFormat.R" beforehand.
> 
> #### FORMATING DATA ACCORDING TO THEIR ROLES AS VARIABLES IN A SIENA MODEL #####
> 
> # A number of objects need to be created in R, as preparations to letting
> # siena07 execute the estimation. This will be indicated by
> # A: dependent variables;
> # B: explanatory variables;
> # C: combination of dependent and explanatory variables;
> # D: model specification.
> 
> # ---- A. ----------------------------------------------------------------------
> # First we have to create objects for the dependent variables.
> 
> # sienaDependent creates a sienaDependent object, here a network,
> # from a matrix or array or list of sparse matrix of triples.
> # This object will have the role of a dependent variable in the analysis.
> # The name of this network object (here: friendship) will be used
> # in the output file.
> 
>  friendship <- sienaDependent(
+                      array( c( friend.data.w1, friend.data.w2, friend.data.w3 ),
+                      dim = c( 50, 50, 3 ) ) )
> 
> # The integers in the dim() here refer to the number of nodes (senders,
> # receivers) and the number of waves.
> # This object is an array of dimension 50 x 50 x 3, representing
> # three adjacency matrices, with a number of attributes.
> # Note that this is an object of class
> 
>         class(friendship)
[1] "sienaDependent"
> 
> # with specific attributes and methods associated with it.
> # You can get the detailed information by requesting
> 
>         dim( friendship )
[1] 50 50  3
>         attributes( friendship )
$dim
[1] 50 50  3

$class
[1] "sienaDependent"

$type
[1] "oneMode"

$sparse
[1] FALSE

$nodeSet
[1] "Actors"

$netdims
[1] 50 50  3

$allowOnly
[1] TRUE

> 
> # If you only are interested in the value of one particular attribute,
> # you can request this by, e.g.,
> 
>         attributes( friendship )$type
[1] "oneMode"
> 
> # The entire contents of the object are listed by typing
> 
> #       friendship
> 
> # but this gives a lot of output which you may not want,
> # hence the # sign in front.
> 
> # The function sienaDependent can also be used to create a behavior variable object
> # with the extra argument type = "behavior".
> # (Non-mentioned attributes get the default value, and in this case
> # oneMode is the default; see below.)
> 
> # The 'drink' data (created in RscriptDataFormat.R ) is made available as a
> # dependent behavior variable by the function
> 
>         drinkingbeh <- sienaDependent( drink, type = "behavior" )
> 
> # the class, class(drinkingbeh), is still sienaDependent.
> 
> # (Note: only use the variable in ONE role in a given model:
> #  behavior variable or changing covariate!)
> 
> # The options available for defining a sienaDependent object
> # are displayed by typing
> 
>         ?sienaDependent
sienaDependent             package:RSiena              R Documentation

_F_u_n_c_t_i_o_n _t_o _c_r_e_a_t_e _a _d_e_p_e_n_d_e_n_t _v_a_r_i_a_b_l_e _f_o_r _a _S_i_e_n_a _m_o_d_e_l

_D_e_s_c_r_i_p_t_i_o_n:

     Creates a Siena dependent variable: either a network, created from
     a matrix or array or list of sparse matrix of triples; or a
     behavior variable, created from a matrix.  'sienaDependent()' and
     'sienaNet()' are identical functions; the second name was used
     from the start of the 'RSiena' package, but the first name
     indicates more precisely the purpose of this function.

_U_s_a_g_e:

     sienaDependent(netarray, type=c("oneMode", "bipartite", "behavior"),
     nodeSet="Actors", sparse=is.list(netarray), allowOnly=TRUE)
     
     sienaNet(netarray, type=c("oneMode", "bipartite", "behavior"),
     nodeSet="Actors", sparse=is.list(netarray), allowOnly=TRUE)
     
_A_r_g_u_m_e_n_t_s:

netarray: matrix (type="behavior" only) or (for the other types) array
          of values or list of sparse matrices of type "dgTMatrix"

    type: type of network, default "oneMode"

 nodeSet: character string naming the appropriate node set. A vector
          containing 2 character strings for a bipartite network:
          "rows" first, then "columns".

  sparse: logical: TRUE indicates the data is in sparse matrix format,
          FALSE otherwise

allowOnly: logical: If TRUE, it will be detected when between any two
          consecutive waves the changes are non-decreasing or
          non-increasing, and if this is the case, this will also be a
          constraint for the simulations between these two waves.  This
          is done by means of the internal parameters 'uponly' and
          'downonly'.  If FALSE, the parameters 'uponly' and 'downonly'
          always are set to FALSE, and changes in dependent variables
          will not be constrained to be non-decreasing or
          non-increasing.  For normal operation, TRUE is the
          appropriate option.

_D_e_t_a_i_l_s:

     Adds attributes so that the array or list of matrices can be used
     in a Siena model fit.

_V_a_l_u_e:

     An object of class "sienaDependent". An array or (networks only) a
     list of sparse matrices with attributes:

 netdims: Dimensions of the network or behavior variable: senders,
          receivers (1 for behavior), periods

    type: oneMode, bipartite or behavior

  sparse: Boolean: whether the network is given as a list of sparse
          matrices or not

 nodeSet: Character string with name(s) of node set(s)

allowOnly: The value of the allowOnly parameter

_A_u_t_h_o_r(_s):

     Ruth Ripley and Tom A.B. Snijders

_R_e_f_e_r_e_n_c_e_s:

     See <URL: http://www.stats.ox.ac.uk/siena/>

_S_e_e _A_l_s_o:

     'sienaDataCreate', 'sienaDataConstraint'

_E_x_a_m_p_l_e_s:

     mynet1 <- sienaDependent(array(c(s501, s502, s503), dim=c(50, 50, 3)))
     mybeh <- sienaDependent(s50a, type="behavior")
     ## note that the following example works although the node sets do not yet exist!
     mynet3 <- sienaDependent(array(c(s501, s502, s503), dim=c(50, 50, 3)),
            type="bipartite", nodeSet=c("senders", "receivers"))
     ## sparse matrix input - create some RSiena edgelists first
     library(Matrix)
     tmps501 <- as(Matrix(s501), "dgTMatrix")
     tmps502 <- as(Matrix(s502), "dgTMatrix")
     tmps503 <- as(Matrix(s503), "dgTMatrix")
     mymat1 <- cbind(tmps501@i + 1, tmps501@j + 1, 1, 1)
     mymat2 <- cbind(tmps502@i + 1, tmps502@j + 1, 1, 2)
     mymat3 <- cbind(tmps503@i + 1, tmps503@j + 1, 1, 3)
     mymat <- rbind(mymat1, mymat2, mymat3)
     library(Matrix)
     ## mymat includes all 3 waves
     mymatlist <- by(mymat, mymat[, 4], function(x)
         spMatrix(50, 50, x[, 1], x[, 2], x[, 3]))
     mynet4 <- sienaDependent(mymatlist)
     ## or alternatively
     mymat1 <- mymat[mymat[, 4] == 1, ]
     mymat2 <- mymat[mymat[, 4] == 2, ]
     mymat3 <- mymat[mymat[, 4] == 3, ]
     mymat1s <- spMatrix(50, 50, mymat1[, 1], mymat1[, 2], mymat1[, 3])
     mymat2s <- spMatrix(50, 50, mymat2[, 1], mymat2[, 2], mymat2[, 3])
     mymat3s <- spMatrix(50, 50, mymat3[, 1], mymat3[, 2], mymat3[, 3])
     mynet4 <- sienaDependent(list(mymat1s, mymat2s, mymat3s))
     
> 
> # This shows that next to one-mode (unipartite) and behavior dependent variables,
> # also two-mode (bipartite) dependent variables are possible.
> # You can infer that oneMode is the default type from the fact
> # that it is mentioned first.
> 
> # To create bipartite network objects you need two node sets and must create
> # the node sets too. The following is an example
> # (not really meaningful, just for the syntax):
> 
>  bfriendship <- sienaDependent(array(c(friend.data.w1, friend.data.w2, friend.data.w3),
+                                dim=c(50, 50, 3)),
+                                "bipartite", nodeSet=c("senders", "receivers"))
>  senders <- sienaNodeSet(50, nodeSetName="senders")
>  receivers <- sienaNodeSet(50, nodeSetName="receivers")
> 
> 
> # ---- B. ----------------------------------------------------------------------
> # Second we construct objects for the explanatory (independent) variables.
> # From the help request
> #       ?sienaDataCreate
> # we see that these can be of five kinds:
> 	# coCovar            Constant actor covariates
> 	# varCovar           Time-varying actor covariates
> 	# coDyadCovar        Constant dyadic covariates
> 	# varDyadCovar       Time-varying dyadic covariates
> 	# compositionChange  Composition change indicators
> 
> # You can get help about this by the following requests:
> #       ?coCovar
> #       ?varCovar
> #       ?coDyadCovar
> #       ?varDyadCovar
> #       ?sienaCompositionChange
> 
> # The variables available for this data set all are changing actor covariates.
> # For illustrative purposes, we use smoking as observed at the first wave
> # as a constant covariate:
> 
>         smoke1 <- coCovar( smoke[ , 1 ] )
> 
> # This selects the first column of smoke,
> # which contains the first wave observations,
> # and makes it available as a constant covariate.
> # This is the pattern for for evey covariate file, e.g.
> #       Attr1 <- coCovar( Covariate1 )
> # where Covariate1 is a matrix with dim(Covariate1) equal to n x 1
> # Note, if Covariates is a matrix with dim(Covariates) equal to n x p
> # you can create constant covariates through
> #       Attr1 <- coCovar(Covariates[,1])
> #       ...
> #       Attrk <- coCovar(Covariates[,p])
> 
> # We use the drinking data as a changing covariate.
> # The function varCovar creates a changing covariate object from a matrix;
> # the name comes from 'varying covariate'.
> 
>         alcohol <- varCovar( drink )
> 
> # You need at least three waves in the data set to define a varying covariate
> # by the function varCovar as the previous wave is used
> # as a predictor of the next wave.
> 
> # The command
> 
>         attributes( alcohol )
$dim
[1] 50  3

$dimnames
$dimnames[[1]]
NULL

$dimnames[[2]]
[1] "V1" "V2" "V3"


$class
[1] "varCovar"

$nodeSet
[1] "Actors"

> 
> # will tell you the information that RSiena now has added to the drink data.
> 
> # ---- C. ----------------------------------------------------------------------
> # We now combine the dependent and independent variables.
> # The function sienaDataCreate creates a Siena data object from input networks,
> # covariates and composition change objects;
> # the objects that earlier were created by sienaDependent will have the role
> # of dependent variables, and similarly the other roles are predetermined
> # by creation by the functions coCovar, varCovar,
> # coDyadCovar, varDyadCovar, and sienaCompositionChange.
> 
>         mydata <- sienaDataCreate( friendship, smoke1, alcohol )
> 
> # You may check the result by requesting
> 
> 		mydata
Dependent variables:  friendship 
Number of observations: 3 

Nodeset                  Actors 
Number of nodes              50 

Dependent variable friendship      
Type               oneMode         
Observations       3               
Nodeset            Actors          
Densities          0.046 0.047 0.05

Constant covariates:  smoke1 
Changing covariates:  alcohol 
> 
> # You should now understand how this differs from the result of
> #       mybehdata <- sienaDataCreate( friendship, smoke1, drinkingbeh )
> 
> # If you would like to use different names, you could request this as follows:
> #        mydata <- sienaDataCreate( nominations = friendship, smoke1,
> #                                   drinking = alcohol )
> 
> # For bipartite networks you would have to specify the node sets, e.g.,
> 
>         mybidata <- sienaDataCreate(bfriendship,
+                                     nodeSets=list(senders, receivers))
> 
> # If you wish to use a covariate, the relevant nodeSet must match, e.g.,
>         balcohol <- varCovar(drink, nodeSet="senders")
>         mybidata <- sienaDataCreate(bfriendship, balcohol,
+                                     nodeSets=list(senders, receivers))
> 
> # but we will not use this in these scripts.
> # This finishes the data specification. Now we have to specify the model.
> #
> 
> # ---- D. ----------------------------------------------------------------------
> ################################################################################
> ###
> ### ---- DEFINING EFFECTS ------------------------------------------------------
> ###
> ################################################################################
> # The data set as combined in mydata implies a certain set of effects
> # that can be included in the specification of the model.
> # The function getEffects creates a dataframe of effects with a number of extra
> # properties for use in RSiena:
> 
>         myeff <- getEffects( mydata )
> 
> # mydata is needed as an argument as the effects depend on the number
> # and types of covariates and dependent variables.
> # Before we explain the object myeff and how we shall be going to use it,
> # we first produce a data description which is available now:
> 
>         print01Report( mydata, myeff, modelname = 's50_3_init' )
> 
> # This writes a basic report of the data to the file
> # s50_3_init.out in the current working directory. Locate and open it!
> # Inspecting this is important because it serves as a check and also contains
> # a number of basic descriptives.
> # In this description you can see that the third wave data for alcohol are not used.
> # This is because changing covariates are assumed to be constant from one wave until
> # immediately before the next wave, so that the values for the last wave are ignored.
> 
> # Let us now consider the myeff object, which is used to specify the model.
> # It is of the class "sienaEffects", and contains the model specification.
> # You can inspect the current model specification by simply requesting
> 
>        myeff
  effectName                          include fix   test  initialValue parm
1 constant friendship rate (period 1) TRUE    FALSE FALSE    4.69604   0   
2 constant friendship rate (period 2) TRUE    FALSE FALSE    4.32885   0   
3 outdegree (density)                 TRUE    FALSE FALSE   -1.46770   0   
4 reciprocity                         TRUE    FALSE FALSE    0.00000   0   
> 
> # For starting, the model specification is just a very limited default
> # (including rates of change, outdegree and reciprocity only)
> # To make a meaningful analysis, you will need to add to it.
> 
> # The rows of myeff correspond to the effects.
> # By requesting
> 
>         names( myeff )
 [1] "name"            "effectName"      "functionName"    "shortName"      
 [5] "interaction1"    "interaction2"    "type"            "basicRate"      
 [9] "include"         "randomEffects"   "fix"             "test"           
[13] "timeDummy"       "initialValue"    "parm"            "functionType"   
[17] "period"          "rateType"        "untrimmedValue"  "effect1"        
[21] "effect2"         "effect3"         "interactionType" "effectFn"       
[25] "statisticFn"     "netType"         "groupName"       "group"          
[29] "effectNumber"   
> 
> # you see the type of information that is stored about the effects,
> # i.e., the columns (variables) defined for the effects.
> # If desired, more information about these variables can be obtained
> # from the help files:
> #      ?getEffects
> 
> # Some often used variables are effectName, shortName, type, and parameter.
> # The set of available effects and their most used columns
> # can be inspected as follows:
> 
> #       effectsDocumentation(myeff)
> 
> # This gives a long list of effects: all defined in Section 12 of the manual,
> # as far as they are meaningful for dataset mydata.
> # The "include" column defines whether effects are included in the model.
> 
>         myeff$include
  [1]  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE  TRUE
 [13] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [25] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [37] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [49] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [61] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [73] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [85] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [97] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[109] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[121] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[133] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[145] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[157] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[169] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[181] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[193] FALSE FALSE FALSE FALSE FALSE FALSE
> 
> # Here the TRUE values correspond to the default model specification which,
> # however, is not meant as a serious model, being too limited.
> # There are 3 main ways to operate on myeff.
> # 1. Changing myeff in spreadsheet form by the function fix();
> # 2. Using RSiena functions "includeEffects", "setEffects", etc;
> # 3. Changing myeff directly by operating on its elements.
> # Which one to use is a matter of personal preference.
> # The second way is most in line with the design philosophy of R,
> # and allows you to save scripts that also can be used when
> # there will be new versions of RSiena.
> # Therefore, we suggest that you skip the explanations of options 1 and 3, and
> # proceed directly to option 2, ' Adding/removing effects using includeEffects'.
> 
> # For identifying your effects you need the "shortName"s,
> # which can be read in the manual (section "Mathematical definition of effects"),
> # or obtained from the "effectsDocumentation()" function mentioned above.
> 
> # ---- 1. Adding/removing effects using fix() ----------------------------------
> # fix calls a data editor internal to R, so we can manually edit the effects.
> # This operates the same as in the Gui.
> 
> #        fix( myeff )
> 
> # How to use fix() is presented merely for getting to know what myeff is.
> # In practical analysis it is more convenient
> # to use routine "includeEffects" instead, as explained below.
> # fix() may not be usable if you do not have tcl/tk available!
> # Note that the top of the dataframe shows the names of the columns:
> # name, effectName, etc.
> # You can edit the "include" column by changing the TRUE and FALSE values
> # as required; when the editor is closed, the new values are stored.
> # When you make an error, however, the effects object may be corrupted.
> 
> 
> # ---- 2. Adding/removing effects using includeEffects -------------------------
> # The best way of specifying the model is by the includeEffects function.
> # This function uses short names instead of full names.
> # The short names are given by the effectsDocumentation() function
> # mentioned above, and also are listed in the descriptions given in
> # Section 12 of the manual.
> # A different table of effect information, including short names,
> # that covers effects available for whatever data sets,
> # is available as a pdf file in the R directory, and can be opened by
> 
> #        RShowDoc("effects", package="RSiena")
> 
> # For illustration, let us start from scratch with a new sienaEffects object,
> # and add the transitive triples and 3-cycles effects
> 
>         myeff <- getEffects( mydata )
>         myeff <- includeEffects( myeff, transTrip, cycle3 )
                            name shortName type interaction1 interaction2
friendship.obj.eval.3 friendship transTrip eval                          
friendship.obj.eval.6 friendship    cycle3 eval                          
                      include
friendship.obj.eval.3    TRUE
friendship.obj.eval.6    TRUE
> 
> # To see the current model specification,
> 
>         myeff
  effectName                          include fix   test  initialValue parm
1 constant friendship rate (period 1) TRUE    FALSE FALSE    4.69604   0   
2 constant friendship rate (period 2) TRUE    FALSE FALSE    4.32885   0   
3 outdegree (density)                 TRUE    FALSE FALSE   -1.46770   0   
4 reciprocity                         TRUE    FALSE FALSE    0.00000   0   
5 transitive triplets                 TRUE    FALSE FALSE    0.00000   0   
6 3-cycles                            TRUE    FALSE FALSE    0.00000   0   
> 
> # Note that we can set several effects in one go!
> # To remove an effect, e.g., the 3-cycle effects
> 
>         myeff <- includeEffects( myeff, cycle3, include=FALSE )
                            name shortName type interaction1 interaction2
friendship.obj.eval.6 friendship    cycle3 eval                          
                      include
friendship.obj.eval.6   FALSE
> 
> # Check again which effects now are included in the model
> 
>         myeff
  effectName                          include fix   test  initialValue parm
1 constant friendship rate (period 1) TRUE    FALSE FALSE    4.69604   0   
2 constant friendship rate (period 2) TRUE    FALSE FALSE    4.32885   0   
3 outdegree (density)                 TRUE    FALSE FALSE   -1.46770   0   
4 reciprocity                         TRUE    FALSE FALSE    0.00000   0   
5 transitive triplets                 TRUE    FALSE FALSE    0.00000   0   
> 
> # ---- Adding/removing covariate related effects -------------------------------
> # The short names do not differentiate between the covariates:
> # e.g., the effects 'alcohol ego' and 'smoke1 ego' both have shortName 'egoX',
> # and the command
> 
>         myeff <- includeEffects( myeff, egoX )
There is no effect with short name egoX, 
and with interaction1 = <> and interaction2 = <>,
for dependent variable friendship .
> 
> # results in a message that does not (like the earlier one)
> # confirm the newly included effect.
> # The covariates are indicated by the variable "interaction1"
> # in the sienaEffects object, listed as "inter1" in the result of
> # effectsDocumentation(), and this has to be mentioned to include these effects:
> 
>         myeff <- includeEffects( myeff, egoX, altX, egoXaltX,
+                                  interaction1 = "alcohol" )
                             name shortName type interaction1 interaction2
friendship.obj.eval.53 friendship      altX eval      alcohol             
friendship.obj.eval.55 friendship      egoX eval      alcohol             
friendship.obj.eval.63 friendship  egoXaltX eval      alcohol             
                       include
friendship.obj.eval.53    TRUE
friendship.obj.eval.55    TRUE
friendship.obj.eval.63    TRUE
>         myeff <- includeEffects( myeff, simX, interaction1 = "smoke1" )
                             name shortName type interaction1 interaction2
friendship.obj.eval.40 friendship      simX eval       smoke1             
                       include
friendship.obj.eval.40    TRUE
> 
> # We check the results again:
> 
>         myeff
  effectName                          include fix   test  initialValue parm
1 constant friendship rate (period 1) TRUE    FALSE FALSE    4.69604   0   
2 constant friendship rate (period 2) TRUE    FALSE FALSE    4.32885   0   
3 outdegree (density)                 TRUE    FALSE FALSE   -1.46770   0   
4 reciprocity                         TRUE    FALSE FALSE    0.00000   0   
5 transitive triplets                 TRUE    FALSE FALSE    0.00000   0   
6 smoke1 similarity                   TRUE    FALSE FALSE    0.00000   0   
7 alcohol alter                       TRUE    FALSE FALSE    0.00000   0   
8 alcohol ego                         TRUE    FALSE FALSE    0.00000   0   
9 alcohol ego x alcohol alter         TRUE    FALSE FALSE    0.00000   0   
> 
> # By looking at the help offered by
> 
>         ?includeEffects
includeEffects             package:RSiena              R Documentation

_F_u_n_c_t_i_o_n _t_o _i_n_c_l_u_d_e _e_f_f_e_c_t_s _i_n _a _S_i_e_n_a _m_o_d_e_l

_D_e_s_c_r_i_p_t_i_o_n:

     This function provides an interface to set the include column on
     selected rows of a Siena effects object

_U_s_a_g_e:

     includeEffects(myeff, ..., include = TRUE, name = myeff$name[1],
      type = "eval", interaction1 = "", interaction2 = "", character=FALSE)
     
_A_r_g_u_m_e_n_t_s:

   myeff: a Siena effects object as created by 'getEffects'

     ...: short names to identify the effects which should be included
          or excluded.

 include: Boolean. default TRUE, but can be switched to FALSE to turn
          off an effect.

    name: Name of network for which effects are being included.
          Defaults to the first in the effects object.

    type: Type of effects to be included: "eval", "endow", "creation",
          or "rate".

interaction1: Name of siena object where needed to completely identify
          the effects e.g. covariate name or behavior variable name.

interaction2: Name of siena object where needed to completely identify
          the effects e.g. covariate name or behavior variable name.

character: Boolean: are the effect names character strings or not

_D_e_t_a_i_l_s:

     The effects indicated by the arguments ..., 'type', and (if
     necessary) 'interaction1' and 'interaction2' are included or
     excluded from the model specified by the effects object.  The
     names 'interaction1' and 'interaction2' do not refer to
     interactions between effects, but to dependence of effects on
     other variables in the data set.  The arguments should identify
     the effects completely.

     A list of all effects available in a given effects object (e.g.,
     'myeff'), including their names of dependent variables, effect
     names, short names, and values of interaction1 and interaction2
     (if any), is obtained by executing 'effectsDocumentation(myeff)'.

     The function ''includeEffects operates by providing an interface
     to set the "include" column on selected rows of the effects
     object, to the value requested (TRUE or FALSE).

_V_a_l_u_e:

     An updated version of the input effects object, with the include
     columns for one or more rows updated.  Details of the rows altered
     will be printed.

_A_u_t_h_o_r(_s):

     Ruth Ripley

_R_e_f_e_r_e_n_c_e_s:

     See <URL: http://www.stats.ox.ac.uk/~snijders/siena/>

_S_e_e _A_l_s_o:

     'getEffects', 'setEffect', 'includeInteraction',
     'effectsDocumentation'

_E_x_a_m_p_l_e_s:

     mynet1 <- sienaDependent(array(c(s501, s502, s503), dim=c(50, 50, 3)))
     mybeh  <- sienaDependent(s50a, type="behavior")
     mydata <- sienaDataCreate(mynet1, mybeh)
     myeff <- getEffects(mydata)
     myeff <- includeEffects(myeff, transTrip, balance)
     myeff <- includeEffects(myeff, avAlt, name="mybeh", interaction1="mynet1")
     myeff
     
> 
> # you can see how to include endowment and creation effects.
> # Effects that depend on other variables, such as egoX, altX, etc. above,
> # need the specification of these variables to define them.
> # This is done by the interaction1 parameter
> # when only one variable name is needed,
> # and by interaction2 if there is a second variable involved,
> # such as AltsAvAlt (see the manual).
> # Although the names of these parameters are interaction1 and interaction2,
> # this does not refer to an interaction as commonly used
> # in statistical modelling!
> 
> # ---- Creating interaction effects --------------------------------------------
> # As a special topic, let us show how interaction effects are created.
> 
> # A convenient method to include an interaction is offered by the
> # includeInteraction function.
> # This can be used to interact two or three effects
> # (if the interactions are allowed, which depends on their interactionType;
> # see the manual for this).
> # The interaction between smoke1 ego and reciprocity, for instance,
> # can be defined by the command
> 
>         myeff <- includeInteraction( myeff, egoX, recip,
+                                     interaction1 = c("smoke1","") )
                             name shortName type interaction1 interaction2
friendship.obj.eval.69 friendship   unspInt eval                          
                       include effect1 effect2 effect3
friendship.obj.eval.69    TRUE      83      12       0
> 		myeff
   effectName                          include fix   test  initialValue parm
1  constant friendship rate (period 1) TRUE    FALSE FALSE    4.69604   0   
2  constant friendship rate (period 2) TRUE    FALSE FALSE    4.32885   0   
3  outdegree (density)                 TRUE    FALSE FALSE   -1.46770   0   
4  reciprocity                         TRUE    FALSE FALSE    0.00000   0   
5  transitive triplets                 TRUE    FALSE FALSE    0.00000   0   
6  smoke1 similarity                   TRUE    FALSE FALSE    0.00000   0   
7  alcohol alter                       TRUE    FALSE FALSE    0.00000   0   
8  alcohol ego                         TRUE    FALSE FALSE    0.00000   0   
9  alcohol ego x alcohol alter         TRUE    FALSE FALSE    0.00000   0   
10 unspecified interaction effect      TRUE    FALSE FALSE    0.00000   0   
   effect1 effect2
1   0       0     
2   0       0     
3   0       0     
4   0       0     
5   0       0     
6   0       0     
7   0       0     
8   0       0     
9   0       0     
10 83      12     
> 
> # This shows the interaction as an "unspecified interaction effect";
> # but when printing results of the estimation the names of the
> # interacting effects will be mentioned.
> # E.g., an interaction between smoke1 ego and alcohol ego is defined by
> 
> #        myeff <- includeInteraction( myeff, egoX, egoX,
> #                                    interaction1 = c( "smoke1", "alcohol" ) )
> 
> # Note that the keyword 'interaction1' used by RSiena is used for identifying
> # the covariate for which the ego effect is selected, and does not
> # refer to the interaction effect itself.
> # If at least one of the interacting effects requires the interaction1 parameter
> # for it specification, then this parameter is also required for the
> # includeInteraction function.
> # Then the two or three interaction1 parameters must be combined using c();
> # the same goes for interaction2, if that also is necessary for the definition.
> 
> # A second special topic is how to access other characteristics of effects.
> # This can be done by the setEffect function.
> # E.g., the dense triads effects
> # counts the number of triplets with at least xx ties,
> # where xx is the parameter of the effect, which can be 5 or 6
> # (note that 6 is the maximum number of ties in a triplet).
> # The default is 5. This is changed to 6 by the command
> 
>         myeff <- setEffect(myeff, denseTriads, parameter = 6)
                             name   shortName type interaction1 interaction2
friendship.obj.eval.12 friendship denseTriads eval                          
                       include parm   fix  test initialValue timeDummy period
friendship.obj.eval.12    TRUE    6 FALSE FALSE            0         ,   <NA>
                       group
friendship.obj.eval.12     1
> 		myeff
   effectName                          include fix   test  initialValue parm
1  constant friendship rate (period 1) TRUE    FALSE FALSE    4.69604   0   
2  constant friendship rate (period 2) TRUE    FALSE FALSE    4.32885   0   
3  outdegree (density)                 TRUE    FALSE FALSE   -1.46770   0   
4  reciprocity                         TRUE    FALSE FALSE    0.00000   0   
5  transitive triplets                 TRUE    FALSE FALSE    0.00000   0   
6  dense triads                        TRUE    FALSE FALSE    0.00000   6   
7  smoke1 similarity                   TRUE    FALSE FALSE    0.00000   0   
8  alcohol alter                       TRUE    FALSE FALSE    0.00000   0   
9  alcohol ego                         TRUE    FALSE FALSE    0.00000   0   
10 alcohol ego x alcohol alter         TRUE    FALSE FALSE    0.00000   0   
11 unspecified interaction effect      TRUE    FALSE FALSE    0.00000   0   
   effect1 effect2
1   0       0     
2   0       0     
3   0       0     
4   0       0     
5   0       0     
6   0       0     
7   0       0     
8   0       0     
9   0       0     
10  0       0     
11 83      12     
> 
> # The 'parameter' keyword refers to the effect parameter, described in
> # Section 12 of the manual.
> 
> # ---- 3. Adding/removing effects by direct manipulation of myeff --------------
> # Alternatively we can edit the dataframe directly by using R functions.
> # You are advised to skip this part ("3.") at first reading,
> # and read it only if you wish to get more understanding
> # of the interal structure of the effects object.
> # The commands below are used to set "include" to TRUE or FALSE,
> # as an alternative to using the data editor.
> # The "include" column with values TRUE or FALSE will always be
> # located at the 9th column,
> # but transitive triplets will not always be at the 13th row as this depends
> # on the number of periods and variables; further, the list of available effects
> # may change in future versions.
> # Some examples are the following
> # (preceded by # because not proposed to be applied).
> 
>         #myeff[13,9] <- TRUE   #transitive triples
>         #myeff[17,9] <- TRUE   #3 cycles
>         #myeff[19,9] <- TRUE   #transitive ties
>         #myeff[29,9] <- TRUE   #indegree popularity (sqrt)
>         #myeff[33,9] <- TRUE   #outdegree popularity (sqrt)
>         #myeff[35,9] <- TRUE   #indegree based activity (sqrt)
>         #myeff[37,9] <- TRUE   #outdegree based activity (sqrt)
>         #myeff[46,9] <- TRUE   #indegree-indegree assortativity
>         #myeff[69,9] <- TRUE   #alcohol alter
>         #myeff[73,9] <- TRUE   #alcohol ego
>         #myeff[75,9] <- TRUE   #alcohol similarity
>         #myeff[83,9] <- TRUE   #alcohol ego x alcohol alter
> 
> # But in other choices of data, the effect numbers will change.
> # This is a reason why this is not a convenient method.
> # The following methods require more typing the first time,
> # but can be re-used much more robustly.
> # Several variants are given, so that you can use what suits you best.
> # We give a small and meaningful model.
> 
> # To understand the R commands, recall that myeff is a matrix,
> # i.e., a two-dimensional array,
> # and myeff[i,j] refers to row/effect i and its characteristic j.
> # A file with the effect shortNames, for easy access to their exact wordings,
> # is obtained by effectsDocumentation() (see above).
> # The following commands can be used to select the
> # five mentioned effects.
> # Note that == is the logical "equals", & is the logical "and",
> # and what is between the square brackets [...] makes a selection
> # of the specified row and column of the "myeff" data frame.
> 
> #        myeff[myeff$effectName=='transitive triplets' &
> #              myeff$type=='eval', 'include'] <- TRUE
> #        myeff[myeff$effectName=='3-cycles' &
> #              myeff$type=='eval', 'include'] <- TRUE
> #        myeff[myeff$effectName=='smoke1 similarity' &
> #              myeff$type=='eval', 'include'] <- TRUE
> #        myeff[myeff$effectName=='alcohol alter' &
> #              myeff$type=='eval', 'include'] <- TRUE
> #        myeff[myeff$effectName=='alcohol ego' &
> #              myeff$type=='eval', 'include'] <- TRUE
> #        myeff[myeff$effectName=='alcohol ego x alcohol alter' &
> #              myeff$type=='eval', 'include'] <- TRUE
> 
> # You can similarly add other ones.
> # If you make a typing error in the effect name, there will be no warning,
> # but also no consequence of your command.
> # Therefore it is good to check the results,
> # by requesting the list of effects now included in the model:
> 
> #        myeff
> 
> ################################################################################
> ###
> ### -- PROCEED TO Rscript03SienaRunModel.R FOR PARAMETER ESTIMATION BY RSIENA --
> ###
> ################################################################################
> ################################################################################
> ###
> ###
> ### ---- Rscript03SienaRunModel.R: a script for the introduction to RSiena -----
> ###
> ###							version April 16, 2013
> ################################################################################
> #
> # The introductory script is divided into the following script files:
> # Rscript01DataFormat.R, followed by
> # RScriptSNADescriptives.R, code for descriptive analysis of the data, and
> # Rscript02SienaVariableFormat.R, which formats data and specifies the model,
> # Rscript03SienaRunModel.R, which runs the model and estimates parameters, and
> # Rscript04SienaBehaviour.R, which illustrates an example of analysing the
> # coevolution of networks and behaviour.
> # Written with contributions by Robin Gauthier, Tom Snijders, Ruth Ripley,
> # Johan Koskinen, and Paulina Preciado.
> #
> # This script, Rscript03SienaRunModel.R, runs the estimation in RSiena for the
> # model set up and defined in the script Rscript02SienaVariableFormat.R.
> #
> # A quick version of the model fitting without comments is given at the end
> # of this script
> 
> ########################### ESTIMATION OF PARAMETERS ###########################
> 
> # Parameters of the model are estimated by the function siena07.
> # This requires the data specification; the effects specification;
> # and a number of parameters, or settings, for the estimation algorithm.
> # The latter are contained in an object created by the function
> # sienaAlgorithmCreate. You can look at the help provided by
> # ?sienaAlgorithmCreate
> # to find out about options that you may use here;
> # for beginning users, only the two options mentioned below are relevant.
> #
> # Output will be written to a file with name projname.out, where projname is
> # whatever name is given; the default (used if no name is given) is Siena.
> # This file will be written to your current directory.
> # New estimation runs will append to it.
> # A new call to print01Report will overwrite it!
> 
> 		myalgorithm <- sienaAlgorithmCreate(useStdInits = FALSE, projname = 's50_3')
> 
> # The useStdInits parameter determines the initial values used for
> # the estimation algorithm.
> # If useStdInits = TRUE, standard initial values are used;
> # if useStdInits = FALSE, the initial values are used that are contained
> # in the "initialValue" column of the effects object,
> # which are reported by the information request
> 		myeff
   effectName                          include fix   test  initialValue parm
1  constant friendship rate (period 1) TRUE    FALSE FALSE    4.69604   0   
2  constant friendship rate (period 2) TRUE    FALSE FALSE    4.32885   0   
3  outdegree (density)                 TRUE    FALSE FALSE   -1.46770   0   
4  reciprocity                         TRUE    FALSE FALSE    0.00000   0   
5  transitive triplets                 TRUE    FALSE FALSE    0.00000   0   
6  dense triads                        TRUE    FALSE FALSE    0.00000   6   
7  smoke1 similarity                   TRUE    FALSE FALSE    0.00000   0   
8  alcohol alter                       TRUE    FALSE FALSE    0.00000   0   
9  alcohol ego                         TRUE    FALSE FALSE    0.00000   0   
10 alcohol ego x alcohol alter         TRUE    FALSE FALSE    0.00000   0   
11 unspecified interaction effect      TRUE    FALSE FALSE    0.00000   0   
   effect1 effect2
1   0       0     
2   0       0     
3   0       0     
4   0       0     
5   0       0     
6   0       0     
7   0       0     
8   0       0     
9   0       0     
10  0       0     
11 83      12     
> # Below we shall see how these initial values can be altered.
> 
> # Let us first redefine the model, to obtain a simpler specification
> # that will serve as an illustration here.
> 
> 		myeff <- getEffects( mydata )
> 		myeff <- includeEffects( myeff, transTrip, cycle3 )
                            name shortName type interaction1 interaction2
friendship.obj.eval.3 friendship transTrip eval                          
friendship.obj.eval.6 friendship    cycle3 eval                          
                      include
friendship.obj.eval.3    TRUE
friendship.obj.eval.6    TRUE
> 		myeff <- includeEffects( myeff, egoX, altX, egoXaltX,
+ 								 interaction1 = "alcohol" )
                             name shortName type interaction1 interaction2
friendship.obj.eval.53 friendship      altX eval      alcohol             
friendship.obj.eval.55 friendship      egoX eval      alcohol             
friendship.obj.eval.63 friendship  egoXaltX eval      alcohol             
                       include
friendship.obj.eval.53    TRUE
friendship.obj.eval.55    TRUE
friendship.obj.eval.63    TRUE
> 		myeff <- includeEffects( myeff, simX, interaction1 = "smoke1" )
                             name shortName type interaction1 interaction2
friendship.obj.eval.40 friendship      simX eval       smoke1             
                       include
friendship.obj.eval.40    TRUE
> 		myeff
   effectName                          include fix   test  initialValue parm
1  constant friendship rate (period 1) TRUE    FALSE FALSE    4.69604   0   
2  constant friendship rate (period 2) TRUE    FALSE FALSE    4.32885   0   
3  outdegree (density)                 TRUE    FALSE FALSE   -1.46770   0   
4  reciprocity                         TRUE    FALSE FALSE    0.00000   0   
5  transitive triplets                 TRUE    FALSE FALSE    0.00000   0   
6  3-cycles                            TRUE    FALSE FALSE    0.00000   0   
7  smoke1 similarity                   TRUE    FALSE FALSE    0.00000   0   
8  alcohol alter                       TRUE    FALSE FALSE    0.00000   0   
9  alcohol ego                         TRUE    FALSE FALSE    0.00000   0   
10 alcohol ego x alcohol alter         TRUE    FALSE FALSE    0.00000   0   
> 
> # The function siena07 actually fits the specified model to the data
> # If you wish the pretty picture of Siena on the screen as information
> # about the progress of the algorithm, type
> 
> 		ans <- siena07( myalgorithm, data = mydata, effects = myeff)
> 
> # (ans for "answer").
> # If however you do not want the pretty picture, or if this leads to
> # difficulties (which may happen e.g. on a Mac), then type
> 
> #		ans <- siena07(myalgorithm, data=mydata, effects=myeff, batch=TRUE)
> 
> # and intermediate information will be written to the console.
> 
> # Function siena07 produces a so-called sienaFit object, here called ans;
> # and it fills in a few things in the sienaEffects object myeff,
> # if this is the first use of myeff in a siena07 call.
> # By using various different effects objects, i.e., with different names,
> # you can switch between specifications.
> 
> # The batch = FALSE parameters will give a graphical user interface being opened
> # which reports on the progress of the estimation algorithm;
> 
> # verbose = TRUE leads to extensive diagnostic information being sent
> # to the console during the estimation, and results after the estimation
> # (these results are also copied to the output file projname.out, see above);
> # while batch=TRUE gives only a limited amount of printout sent to the console
> # during the estimation (which is seen when clicking in the console,
> # or more immediately if the Buffered Output is deselected in the Misc menu)
> # which monitors the progress of the estimation algorithm in a different way.
> 
> # The call of siena07 leads to output in the file s50_3.out
> # (or more generally projname.out,
> # where projname is the name given in sienaAlgorithmCreate)
> # and to the creation of the object which here is called ans (for "answer").
> 
> # To use multiple processors, in the simplest case where your computer has 2
> # processors, use
> 
> #		ans <- siena07( myalgorithm, data = mydata, effects = myeff,
> #					  nbrNodes = 2, useCluster = TRUE)
> 
> # Adjust the nbrNodes to the number available.
> # If you wish to work on with other programs while running siena07,
> # it is advisable to use one node less than the number of available processors.
> # If you wish to use other machines as well,
> # see the more detailed instructions below.
> # You will then need to use the clusterString argument as well.
> #
> # For more advanced use, it can be helpful to have access to the networks
> # simulated in the so-called third phase of the estimation algorithm.
> # These networks can be used, e.g., for checking goodness of fit.
> # This can be achieved by using the parameter returnDeps=TRUE.
> # The fitted object ans will then have a component named "sims"
> # which contains a list (each iteration) of lists (each data object)
> # of lists (each dependent network or behavior variable) of edgelists for
> # networks or vectors for behavior variables.
> # See the manual for further explanation.
> #
> # This option when used with multiple processors would require
> # rather a lot of communication between multiple processes,
> # slowing down the computations,
> # so it might be better to avoid using the two options together.
> 
> 
> ################### LOOKING AT THE RESULTS ################################
> 
> # The file "s50_3.out" will contain the results of the estimation.
> # It is contained in the current directory ("getwd()").
> # This file can be read by any text editor.
> # A summary of the results is obtained on the screen by
> 
> 		ans
Estimates, standard errors and convergence t-ratios

                                       Estimate   Standard   Convergence 
                                                    Error      t-ratio   

Rate parameters: 
  0.1      Rate parameter period 1      6.5972  ( 1.1430   )             
  0.2      Rate parameter period 2      5.2088  ( 0.8907   )             

Other parameters: 
  1.  eval outdegree (density)         -2.7049  ( 0.1214   )    0.0426   
  2.  eval reciprocity                  2.4150  ( 0.2057   )    0.0254   
  3.  eval transitive triplets          0.6292  ( 0.1430   )   -0.0163   
  4.  eval 3-cycles                    -0.0537  ( 0.2964   )    0.0017   
  5.  eval smoke1 similarity            0.2430  ( 0.2218   )   -0.0247   
  6.  eval alcohol alter               -0.0225  ( 0.0663   )   -0.0515   
  7.  eval alcohol ego                  0.0340  ( 0.0765   )   -0.0617   
  8.  eval alcohol ego x alcohol alter  0.1270  ( 0.0505   )    0.0207   

Total of 2206 iteration steps.

> 
> # and a larger summary by
> 
> 		summary(ans)
Estimates, standard errors and convergence t-ratios

                                       Estimate   Standard   Convergence 
                                                    Error      t-ratio   

Rate parameters: 
  0.1      Rate parameter period 1      6.5972  ( 1.1430   )             
  0.2      Rate parameter period 2      5.2088  ( 0.8907   )             

Other parameters: 
  1.  eval outdegree (density)         -2.7049  ( 0.1214   )    0.0426   
  2.  eval reciprocity                  2.4150  ( 0.2057   )    0.0254   
  3.  eval transitive triplets          0.6292  ( 0.1430   )   -0.0163   
  4.  eval 3-cycles                    -0.0537  ( 0.2964   )    0.0017   
  5.  eval smoke1 similarity            0.2430  ( 0.2218   )   -0.0247   
  6.  eval alcohol alter               -0.0225  ( 0.0663   )   -0.0515   
  7.  eval alcohol ego                  0.0340  ( 0.0765   )   -0.0617   
  8.  eval alcohol ego x alcohol alter  0.1270  ( 0.0505   )    0.0207   

Total of 2206 iteration steps.

Overall maximum convergence ratio:    0.2184 

Covariance matrix of estimates (correlations below diagonal)

       0.015       -0.015       -0.007        0.008       -0.003        0.000        0.000       -0.001
      -0.598        0.042        0.009       -0.026       -0.006       -0.001        0.000        0.001
      -0.405        0.320        0.020       -0.037       -0.002       -0.001       -0.001        0.000
       0.219       -0.426       -0.869        0.088        0.006        0.001        0.002        0.000
      -0.100       -0.132       -0.054        0.086        0.049        0.003        0.005       -0.001
       0.056       -0.083       -0.070        0.056        0.198        0.004       -0.002        0.000
      -0.026       -0.026       -0.109        0.080        0.310       -0.321        0.006       -0.001
      -0.226        0.066       -0.012       -0.010       -0.097       -0.051       -0.139        0.003

Derivative matrix of expected statistics X by parameters:

     293.749      230.290      488.413      154.126       29.466       29.380       39.120      162.228
     131.391      142.947      253.204       84.540       13.196       16.737       14.703       70.624
     349.947      316.329     1149.926      367.088       32.189       74.255       79.218      217.981
     165.538      159.853      541.491      181.893       15.869       27.243       26.709       98.248
      27.160       26.753       42.451       13.268       34.382      -45.477      -45.364       15.871
      25.166       28.319      103.812       35.663      -44.238      360.567      231.328       67.026
      34.626       26.527      116.968       37.279      -44.006      238.092      331.110      111.750
     160.763      141.085      318.608      103.622       14.240       89.039       83.889      603.167

Covariance matrix of X (correlations below diagonal):

     447.958      383.162     1016.877      330.277       48.532       57.530       59.288      247.278
       0.922      385.445      985.781      326.039       44.751       57.931       47.917      238.271
       0.785        0.820     3747.658     1225.174      118.770      204.610      187.864      637.535
       0.774        0.824        0.993      406.370       38.467       68.534       60.200      210.256
       0.340        0.338        0.288        0.283       45.494      -70.341      -69.029       21.008
       0.122        0.133        0.150        0.153       -0.469      495.305      405.776      153.723
       0.128        0.111        0.140        0.136       -0.467        0.833      479.556      157.250
       0.415        0.431        0.370        0.370        0.111        0.245        0.255      793.207
> 
> # Depending on the random seed and the model specification,
> # the results could be something like the following.
> 
> # Estimates, standard errors and convergence t-ratios
> #
> #										Estimate   Standard	  Convergence
> #													 Error		t-ratio
> #
> #Rate parameters:
> #  0.1		Rate parameter period 1		 6.6331	 ( 1.1770	)
> #  0.2		Rate parameter period 2		 5.2105	 ( 0.8790	)
> #
> #Other parameters:
> #  1.  eval outdegree (density)			-2.7194	 ( 0.1191	)	 0.0024
> #  2.  eval reciprocity					 2.4344	 ( 0.2208	)	 0.0013
> #  3.  eval transitive triplets			 0.6449	 ( 0.1378	)	 0.0039
> #  4.  eval 3-cycles					-0.0881	 ( 0.2917	)	 0.0168
> #  5.  eval smoke1 similarity			 0.2239	 ( 0.1991	)	-0.0792
> #  6.  eval alcohol alter				-0.0256	 ( 0.0676	)	-0.0048
> #  7.  eval alcohol ego					 0.0348	 ( 0.0730	)	 0.0075
> #  8.  eval alcohol ego x alcohol alter	 0.1295	 ( 0.0489	)	 0.0126
> #
> 
> # The results can also be viewed externally in the output file s50_3.out
> # It is advisable that you have a look at all three reports and
> # understand how information is organized in each of them.
> 
> # To understand the table above, note that the "convergence t-ratio"
> # is the t-ratio for convergence checking,
> # not the t statistic for testing the significance of this effect!
> # (See Section 6.1.2 of the manual.)
> # In the external output file, these are called
> # "t-ratios for deviations from targets".
> # The rule of thumb is that all t-ratios for convergence
> # should ideally be less than 0.1 in absolute value;
> # this signifies good convergence of the algorithm.
> # In the example here, this is the case.
> # If this would not be the case, the best thing to do would be
> # to continue the estimation, using the estimates produced here,
> # and contained in ans, as the new initial values.
> # This is explained below.
> # Because the estimation algorithm is based on random simulations of the
> # network evolution, there always will be small differences between
> # different runs of the algorithm.
> # To obtain "publication grade" estimates, where this variability is minimized,
> # choose the value of parameter n3 in sienaAlgorithmCreate()
> # ("Number of iterations in phase 3") larger than the default value of 1000;
> # e.g., n3=3000.
> 
> # With function siena07 we made ans as the object containing
> # all the results of the estimation. For example,
> 
> 		ans$theta
[1] -2.70487731  2.41499415  0.62915961 -0.05372878  0.24296968 -0.02245825
[7]  0.03402762  0.12695392
> 
> # contains the vector of parameter estimates while
> 
> 		ans$covtheta
              [,1]          [,2]          [,3]          [,4]         [,5]
[1,]  0.0147340316 -0.0149456615 -7.031516e-03  0.0078740230 -0.002682783
[2,] -0.0149456615  0.0423307695  9.420469e-03 -0.0259589645 -0.006043398
[3,] -0.0070315157  0.0094204686  2.045312e-02 -0.0368436199 -0.001716327
[4,]  0.0078740230 -0.0259589645 -3.684362e-02  0.0878734558  0.005634906
[5,] -0.0026827825 -0.0060433978 -1.716327e-03  0.0056349057  0.049190077
[6,]  0.0004520012 -0.0011348549 -6.613809e-04  0.0011006902  0.002903997
[7,] -0.0002401056 -0.0004131704 -1.195543e-03  0.0018246616  0.005263295
[8,] -0.0013842398  0.0006870385 -8.999758e-05 -0.0001540228 -0.001091709
              [,6]          [,7]          [,8]
[1,]  0.0004520012 -0.0002401056 -1.384240e-03
[2,] -0.0011348549 -0.0004131704  6.870385e-04
[3,] -0.0006613809 -0.0011955434 -8.999758e-05
[4,]  0.0011006902  0.0018246616 -1.540228e-04
[5,]  0.0029039972  0.0052632951 -1.091709e-03
[6,]  0.0043929970 -0.0016290281 -1.719561e-04
[7,] -0.0016290281  0.0058544159 -5.354947e-04
[8,] -0.0001719561 -0.0005354947  2.550023e-03
> 
> # contains the covariance matrix of the estimates.
> # There are several "methods" available for viewing the object
> # containing the results of the estimation.
> # Above we already mentioned
> #		ans
> # and
> #		summary( ans )
> # The command
> 
> 		xtable( ans )
% latex table generated in R 3.0.1 by xtable 1.7-1 package
% Tue Jun 18 10:30:35 2013
\begin{table}[ht]
\centering
\begin{tabular}{llllrlrlr}
  \hline
  \multicolumn{4}{l}{ Rate parameters:  } \\ 
 \hline
  & 0.1 &  & Rate parameter period 1 & 6.60 & ( & 1.14 & ) &  \\ 
    & 0.2 &  & Rate parameter period 2 & 5.21 & ( & 0.89 & ) &  \\ 
   \\  \multicolumn{4}{l}{ Other parameters:  } \\ 
  & 1. & eval & outdegree (density) & -2.70 & ( & 0.12 & ) & 0.04 \\ 
    & 2. & eval & reciprocity & 2.41 & ( & 0.21 & ) & 0.03 \\ 
    & 3. & eval & transitive triplets & 0.63 & ( & 0.14 & ) & -0.02 \\ 
    & 4. & eval & 3-cycles & -0.05 & ( & 0.30 & ) & 0.00 \\ 
    & 5. & eval & smoke1 similarity & 0.24 & ( & 0.22 & ) & -0.02 \\ 
    & 6. & eval & alcohol alter & -0.02 & ( & 0.07 & ) & -0.05 \\ 
    & 7. & eval & alcohol ego & 0.03 & ( & 0.08 & ) & -0.06 \\ 
    & 8. & eval & alcohol ego x alcohol alter & 0.13 & ( & 0.05 & ) & 0.02 \\ 
   \hline
\end{tabular}
\end{table}
> 
> # will produce a table formatted for inclusion in a LaTeX document
> # or formatted in html. Use e.g.
> 
> 		xtable( ans, type = 'html' )
<!-- html table generated in R 3.0.1 by xtable 1.7-1 package -->
<!-- Tue Jun 18 10:30:35 2013 -->
<TABLE border=1>
  <TR> <TD colspan=9 align=left> Rate parameters:  </TD> </TR> <TR> </TR> 
 <TR> <TD>   </TD> <TD> 0.1 </TD> <TD>  </TD> <TD> Rate parameter period 1 </TD> <TD align="right"> 6.60 </TD> <TD> ( </TD> <TD align="right"> 1.14 </TD> <TD> ) </TD> <TD align="right">  </TD> </TR>
  <TR> <TD>   </TD> <TD> 0.2 </TD> <TD>  </TD> <TD> Rate parameter period 2 </TD> <TD align="right"> 5.21 </TD> <TD> ( </TD> <TD align="right"> 0.89 </TD> <TD> ) </TD> <TD align="right">  </TD> </TR>
   <TR> <TD colspan=9 align=left> Other parameters:  </TD> </TR> <TR> </TR> 
<TR> <TD>   </TD> <TD> 1. </TD> <TD> eval </TD> <TD> outdegree (density) </TD> <TD align="right"> -2.70 </TD> <TD> ( </TD> <TD align="right"> 0.12 </TD> <TD> ) </TD> <TD align="right"> 0.04 </TD> </TR>
  <TR> <TD>   </TD> <TD> 2. </TD> <TD> eval </TD> <TD> reciprocity </TD> <TD align="right"> 2.41 </TD> <TD> ( </TD> <TD align="right"> 0.21 </TD> <TD> ) </TD> <TD align="right"> 0.03 </TD> </TR>
  <TR> <TD>   </TD> <TD> 3. </TD> <TD> eval </TD> <TD> transitive triplets </TD> <TD align="right"> 0.63 </TD> <TD> ( </TD> <TD align="right"> 0.14 </TD> <TD> ) </TD> <TD align="right"> -0.02 </TD> </TR>
  <TR> <TD>   </TD> <TD> 4. </TD> <TD> eval </TD> <TD> 3-cycles </TD> <TD align="right"> -0.05 </TD> <TD> ( </TD> <TD align="right"> 0.30 </TD> <TD> ) </TD> <TD align="right"> 0.00 </TD> </TR>
  <TR> <TD>   </TD> <TD> 5. </TD> <TD> eval </TD> <TD> smoke1 similarity </TD> <TD align="right"> 0.24 </TD> <TD> ( </TD> <TD align="right"> 0.22 </TD> <TD> ) </TD> <TD align="right"> -0.02 </TD> </TR>
  <TR> <TD>   </TD> <TD> 6. </TD> <TD> eval </TD> <TD> alcohol alter </TD> <TD align="right"> -0.02 </TD> <TD> ( </TD> <TD align="right"> 0.07 </TD> <TD> ) </TD> <TD align="right"> -0.05 </TD> </TR>
  <TR> <TD>   </TD> <TD> 7. </TD> <TD> eval </TD> <TD> alcohol ego </TD> <TD align="right"> 0.03 </TD> <TD> ( </TD> <TD align="right"> 0.08 </TD> <TD> ) </TD> <TD align="right"> -0.06 </TD> </TR>
  <TR> <TD>   </TD> <TD> 8. </TD> <TD> eval </TD> <TD> alcohol ego x alcohol alter </TD> <TD align="right"> 0.13 </TD> <TD> ( </TD> <TD align="right"> 0.05 </TD> <TD> ) </TD> <TD align="right"> 0.02 </TD> </TR>
   </TABLE>
> 
> # to get html, and e.g.
> 
> 		xtable( ans, file = 'ff.tex' )
> 
> # to write the results to a file.
> # At http://cran.r-project.org/web/packages/xtable you can find
> # a set of vignettes for the xtable package, the xtable gallery,
> # which gives more options.
> # A function siena.table is available that is specially designed
> # for RSiena results and produces html or LaTeX files.
> # See
> 
> 		?print.sienaFit
sienaFit.methods            package:RSiena             R Documentation

_M_e_t_h_o_d_s _f_o_r _p_r_o_c_e_s_s_i_n_g _s_i_e_n_a_F_i_t _o_b_j_e_c_t_s, _p_r_o_d_u_c_e_d _b_y '_s_i_e_n_a_0_7'.

_D_e_s_c_r_i_p_t_i_o_n:

     'print', 'summary', and 'xtable' methods for 'sienaFit' objects.

_U_s_a_g_e:

     ## S3 method for class 'sienaFit'
     print(x, tstat=TRUE, ...)
     
     ## S3 method for class 'sienaFit'
     summary(object,  ...)
     
     ## S3 method for class 'summary.sienaFit'
     print(x,  ...)
     
     ## S3 method for class 'sienaFit'
     xtable(x, caption = NULL, label = NULL, align = NULL,
                     digits = NULL, display = NULL, ...)
     
     siena.table(x, type='tex', file=paste(deparse(substitute(x)), '.', type,sep=""),
                 vertLine=TRUE, tstatPrint=FALSE, sig=FALSE, d=3)
     
_A_r_g_u_m_e_n_t_s:

  object: An object of class 'sienaFit', produced by 'siena07'.

       x: An object of class 'sienaFit', or 'summary.sienaFit' as
          appropriate

   tstat: Boolean: add the t-statistics for convergence to the report

    type: Type of output to produce; must be either ''tex'' or ''html''

    file: Name of the file; defaults to the name of the 'sienaFit'
          object

vertLine: Boolean: add vertical lines separating the columns in
          'siena.table'

tstatPrint: Boolean: add a column of significance t values (parameter
          estimate/standard error estimate) to 'siena.table'

     sig: Boolean: adds symbols (daggers and asterisks) indicating
          significance levels for the parameter estimates to
          'siena.table'

       d: The number of decimals places used in 'siena.table'

 caption: See documentation for 'xtable'

   label: See documentation for 'xtable'

   align: See documentation for 'xtable'

  digits: See documentation for 'xtable'

 display: See documentation for 'xtable'

     ...: Add extra parameters for 'print.xtable' here. e.g.  'type',
          'file'

_V_a_l_u_e:

     The function 'print.sienaFit' prints a table containing estimated
     parameter values, standard errors and (optionally) t-statistics
     for convergence.

     The function 'summary.sienaFit' prints a table containing
     estimated parameter values, standard errors and t-statistics for
     convergence together with the covariance matrix of the estimates,
     the derivative matrix of expected statistics 'X' by parameters,
     and the covariance matrix of the expected statistics 'X'.

     The function 'xtable.sienaFit' creates an object of class
     'xtable.sienaFit' which inherits from class 'xtable' and passes an
     extra arguments to the 'print.xtable'.

     The function 'siena.table' outputs a latex or html table of the
     estimates and standards errors of a 'sienaFit' object.  The table
     will be written to the current directory and has a footnote
     reporting the maximum of the convergence t ratios.

_A_u_t_h_o_r(_s):

     Ruth Ripley, Charlotte Greenan

_R_e_f_e_r_e_n_c_e_s:

     See <URL: http://www.stats.ox.ac.uk/~snijders/siena/>

_S_e_e _A_l_s_o:

     'xtable', 'print.xtable', 'siena07'

_E_x_a_m_p_l_e_s:

     myalgorithm <- sienaAlgorithmCreate(nsub=2, n3=100)
     mynet1 <- sienaDependent(array(c(tmp3, tmp4), dim=c(32, 32, 2)))
     mydata <- sienaDataCreate(mynet1)
     myeff <- getEffects(mydata)
     ans <- siena07(myalgorithm, data=mydata, effects=myeff, batch=TRUE)
     ans
     summary(ans)
     xtable(ans, type='html', file='ans.html')
     siena.table(ans, type='html', tstat=TRUE, d=2)
     
> 
> 
> ############## MORE ON INITIALIZING PARAMETERS FOR ESTIMATION ########
> 
> # If the estimation algorithm has not produced good estimates
> # (it 'has not converged well'),
> # as will be indicated by some of the t-ratios for convergence being larger
> # than 0.1 (this threshold is not to be taken too precisely, though),
> # the best thing to do is continuing the estimation,
> # using the estimates produced here,
> # and contained in ans, as the new initial values.
> # This is done by the option prevAns ('previous ans') as in
> 
> 		ans <- siena07(myalgorithm, data=mydata, effects=myeff, prevAns=ans)
> 
> # the parameter estimates in ans then are extracted and
> # used in the new estimation;
> # moreover, Phase 1 will be omitted from the algorithm,
> # as derivatives and covariance matrix are used from the previous run.
> # This should be used only if the model specification in myeff
> # has not changed, and if the provisional parameter estimates obtained
> # in ans are reasonable; if they are not reasonable,
> # omit the prevAns option, use
> #		myalgorithm$useStdInits <- TRUE
> # to get back on track, and return at the next estimation to
> #		myalgorithm$useStdInits <- FALSE
> # To understand what happens here, read on:
> 
> # Another and more flexible way for determining initial values is by
> # using the useStdInits element of the model object,
> # and the initial values in the effects object.
> # This is done as follows.
> # The option useStdInits = TRUE in sienaAlgorithmCreate, will make
> # each estimation run start with standard initial values.
> # The option useStdInits = FALSE makes the estimation start
> # with the initial values in the effects object.
> # You can switch between these by commands such as
> 
> #		myalgorithm$useStdInits <- FALSE
> #		myalgorithm$useStdInits <- TRUE
> 
> # Putting the estimates from the results object ans into the
> # effects object myeff is done by
> 
> 		myeff <- updateTheta(myeff, ans)
> 
> # A check that the effects object contains the desired initial values is made by
> 
> 		myeff
   effectName                          include fix   test  initialValue parm
1  constant friendship rate (period 1) TRUE    FALSE FALSE    6.66415   0   
2  constant friendship rate (period 2) TRUE    FALSE FALSE    5.17651   0   
3  outdegree (density)                 TRUE    FALSE FALSE   -2.72170   0   
4  reciprocity                         TRUE    FALSE FALSE    2.41245   0   
5  transitive triplets                 TRUE    FALSE FALSE    0.63997   0   
6  3-cycles                            TRUE    FALSE FALSE   -0.05984   0   
7  smoke1 similarity                   TRUE    FALSE FALSE    0.25545   0   
8  alcohol alter                       TRUE    FALSE FALSE   -0.02626   0   
9  alcohol ego                         TRUE    FALSE FALSE    0.03881   0   
10 alcohol ego x alcohol alter         TRUE    FALSE FALSE    0.13188   0   
> 
> # The initial values are in the vector
> 
> 		myeff$initialValue[myeff$include]
 [1]  6.66414573  5.17650663 -2.72169913  2.41245279  0.63996715 -0.05984051
 [7]  0.25544858 -0.02626118  0.03881277  0.13188113
> 
> # and this also can be initialised differently, if this is desired.
> # Note that this initial vector will be used until you change it again,
> # e.g., to the results of a new run, or if you use the prevAns parameter,
> # or until you set useStdInits to TRUE.
> 
> ################################################################################
> ###
> ### ---- Testing effects -------------------------------------------------------
> ###
> ################################################################################
> #
> # Two types of tests are available in SIENA.
> # 1. t-type tests of single parameters can be carried out by dividing
> # the parameter estimate by its standard error.
> # Under the null hypothesis that the parameter is 0, these tests have
> # approximately a standard normal distribution.
> # 2. Score-type tests of single and multiple parameters are described
> # in the manual.
> # Parameters can be restricted by putting TRUE in the
> # include, fix and test columns of the effects object.
> # For example, to request a score test for the indegree popularity effect,
> # the commands can be as follows.
> 
> 		myeff <- setEffect(myeff, inPopSqrt, fix=TRUE, test=TRUE,
+ 										  initialValue=0.0)
                             name shortName type interaction1 interaction2
friendship.obj.eval.19 friendship inPopSqrt eval                          
                       include parm  fix test initialValue timeDummy period
friendship.obj.eval.19    TRUE    0 TRUE TRUE            0         ,   <NA>
                       group
friendship.obj.eval.19     1
> 		ans <- siena07(myalgorithm, data=mydata, effects=myeff)
> 
> # After such an operation, again request
> 
> 		summary(ans)
Estimates, standard errors and convergence t-ratios

                                        Estimate   Standard   Convergence 
                                                     Error      t-ratio   

Rate parameters: 
  0.1      Rate parameter period 1       6.6394  ( 1.1452   )             
  0.2      Rate parameter period 2       5.2224  ( 0.8724   )             

Other parameters: 
  1.  eval outdegree (density)          -2.7233  ( 0.1157   )   -0.0159   
  2.  eval reciprocity                   2.4193  ( 0.2081   )   -0.0020   
  3.  eval transitive triplets           0.6117  ( 0.1446   )   -0.0261   
  4.  eval 3-cycles                     -0.0053  ( 0.2818   )    0.0161   
  5.  eval indegree - popularity (sqrt)  0.0000  (     NA   )    0.3175   
  6.  eval smoke1 similarity             0.2686  ( 0.2041   )   -0.0082   
  7.  eval alcohol alter                -0.0206  ( 0.0725   )    0.0137   
  8.  eval alcohol ego                   0.0384  ( 0.0763   )    0.0326   
  9.  eval alcohol ego x alcohol alter   0.1281  ( 0.0496   )    0.0137   

Total of 2725 iteration steps.

Overall maximum convergence ratio:    0.3740 

Generalised score test <c>

Testing the goodness-of-fit of the model restricted by
 (1)   eval:  indegree - popularity (sqrt)                =   0.0000
_________________________________________________
                   
   c =   6.0249   d.f. = 1   p-value =   0.0141

   one-sided (normal variate):  -2.4546    
_________________________________________________

One-step estimates: 

eval:  outdegree (density)                         -1.9571
eval:  reciprocity                                  2.3972
eval:  transitive triplets                          0.7626
eval:  3-cycles                                    -0.1915
eval:  indegree - popularity (sqrt)                -0.4444
eval:  smoke1 similarity                            0.2301
eval:  alcohol alter                               -0.0087
eval:  alcohol ego                                  0.0292
eval:  alcohol ego x alcohol alter                  0.1157

Covariance matrix of estimates (correlations below diagonal)

       0.013       -0.014       -0.008        0.008        3.817       -0.002        0.000        0.000        0.000
      -0.594        0.043        0.010       -0.025        6.866        0.000       -0.001        0.000       -0.001
      -0.453        0.326        0.021       -0.035        4.772       -0.001        0.000       -0.002       -0.001
       0.247       -0.428       -0.858        0.079        9.301        0.001       -0.001        0.002        0.001
       1.044        1.044        1.044        1.044      999.000        6.734        2.393        2.519        1.638
      -0.096        0.003       -0.036        0.012        1.044        0.042        0.003        0.004        0.000
       0.024       -0.069        0.003       -0.036        1.044        0.234        0.005       -0.002        0.000
       0.052        0.017       -0.183        0.111        1.044        0.260       -0.329        0.006        0.000
      -0.054       -0.088       -0.138        0.086        1.044       -0.024       -0.045       -0.004        0.002

Derivative matrix of expected statistics X by parameters:

     310.582      243.489      540.349      172.859      764.531       26.873       37.608       36.986      153.120
     132.604      143.038      267.139       89.302      330.375       10.865       24.446       19.947       82.129
     357.977      324.489     1184.935      379.939      970.161       27.711       83.749       93.304      229.661
     168.171      161.827      556.002      187.696      454.734       13.820       33.158       30.369       96.912
     572.503      449.585     1070.861      340.480     1465.394       45.573       84.818       84.360      281.352
      20.756       15.273       22.694        7.326       48.318       35.004      -46.618      -45.911       -1.545
      35.264       45.339      123.276       39.620      107.703      -44.165      332.263      210.226       78.149
      43.617       41.360      186.613       59.774      132.101      -42.303      225.050      312.358       92.455
     178.229      159.737      381.395      122.806      435.403       13.573       83.537       74.331      616.811

Covariance matrix of X (correlations below diagonal):

     482.052      416.923     1105.529      358.716     1235.828       41.873       86.984      102.145      300.996
       0.931      416.415     1080.012      353.771     1084.903       34.992       94.400      101.546      290.410
       0.793        0.833     4035.324     1309.773     3087.025       84.076      257.617      324.429      749.674
       0.787        0.835        0.993      430.947      999.806       27.582       80.905      101.201      240.820
       0.984        0.929        0.849        0.842     3273.373      103.731      243.186      286.162      765.180
       0.293        0.264        0.204        0.204        0.279       42.292      -68.216      -63.980        7.948
       0.180        0.210        0.184        0.177        0.193       -0.476      486.485      388.628      190.807
       0.219        0.235        0.241        0.230        0.236       -0.464        0.831      449.603      198.666
       0.467        0.485        0.402        0.395        0.455        0.042        0.295        0.319      862.510
> 
> # to see the results, including those for the score test.
> 
> 
> ################################################################################
> ###
> ### ---- Time test -------------------------------------------------------------
> ###
> ################################################################################
> #
> # An application of the score test is given for the special case of parameter
> # heterogeneity by Lospinoso et al. (2010) and implemented in RSiena.
> # To apply the test to the results obtained above, request, e.g.,
> 		tt2 <- sienaTimeTest(ans)
> 		tt2
Joint significance test of time heterogeneity:
chi-squared =   5.11, d.f. = 8, p= 0.7452, 
where H0: The following parameters are zero:
 (1) (*)Dummy2:outdegree (density)
 (2) (*)Dummy2:reciprocity
 (3) (*)Dummy2:transitive triplets
 (4) (*)Dummy2:3-cycles
 (5) (*)Dummy2:smoke1 similarity
 (6) (*)Dummy2:alcohol alter
 (7) (*)Dummy2:alcohol ego
 (8) (*)Dummy2:alcohol ego x alcohol alter
> # If you wish more information, also
> #		summary(tt2)
> #		 plot(tt2, effects=3:4)
> # If as a consequence of this analysis you wish to add time dummy terms,
> # this may be done via
> #		myeff <- includeTimeDummy(myeff, transTrip, cycle3)
> #		myeff
> #		ans3 <- siena07(myalgorithm, data=mydata, effects=myeff)
> # and testing again,
> #		(tt3 <- sienaTimeTest(ans3))
> # and so on.
> 
> ################################################################################
> ###
> ### ---- Summary of model fitted -----------------------------------------------
> ###
> ################################################################################
> 
> 	  friend.data.w1 <- as.matrix(read.table("s50-network1.dat")) # read data
> 	  friend.data.w2 <- as.matrix(read.table("s50-network2.dat"))
> 	  friend.data.w3 <- as.matrix(read.table("s50-network3.dat"))
> 	  drink <- as.matrix(read.table("s50-alcohol.dat"))
> 	  smoke <- as.matrix(read.table("s50-smoke.dat"))
> 
> 	  friend.data.w1[ friend.data.w1 %in% c(6,9) ] <- NA # define missing data
> 	  friend.data.w1[ friend.data.w2 %in% c(6,9) ] <- NA
> 	  friend.data.w1[ friend.data.w3 %in% c(6,9) ] <- NA
> 
> 	  friendship <- sienaDependent( array( c( friend.data.w1,
+ 											  friend.data.w2, friend.data.w3 ),
+ 									dim = c( 50, 50, 3 ) ) )
> 
> 	  drinkingbeh <- sienaDependent( drink, type = "behavior" )
> 	  smoke1 <- coCovar( smoke[ , 1 ] )
> 	  alcohol <- varCovar( drink )
> 
> 	  mydata <- sienaDataCreate( friendship, smoke1, alcohol )
> 
> 	  myeff <- getEffects( mydata )  # create effects structure
> 
> 	  print01Report( mydata, myeff, modelname = 's50_3_init' )
> 
> 	  myeff <- includeEffects( myeff, transTrip, cycle3 )
                            name shortName type interaction1 interaction2
friendship.obj.eval.3 friendship transTrip eval                          
friendship.obj.eval.6 friendship    cycle3 eval                          
                      include
friendship.obj.eval.3    TRUE
friendship.obj.eval.6    TRUE
> 	  myeff <- includeEffects( myeff, egoX, altX,
+ 							   egoXaltX, interaction1 = "alcohol" )
                             name shortName type interaction1 interaction2
friendship.obj.eval.53 friendship      altX eval      alcohol             
friendship.obj.eval.55 friendship      egoX eval      alcohol             
friendship.obj.eval.63 friendship  egoXaltX eval      alcohol             
                       include
friendship.obj.eval.53    TRUE
friendship.obj.eval.55    TRUE
friendship.obj.eval.63    TRUE
> 	  myeff <- includeEffects( myeff, simX, interaction1 = "smoke1" )
                             name shortName type interaction1 interaction2
friendship.obj.eval.40 friendship      simX eval       smoke1             
                       include
friendship.obj.eval.40    TRUE
> 
> 	  myalgorithm <- sienaAlgorithmCreate( projname = 's50_3' )
> # and finally (commented out because no need to repeat the actual calculations)
> #	  ans <- siena07( myalgorithm, data = mydata, effects = myeff)
> 
> ################################################################################
> ###
> ### -- PROCEED TO Rscript04SienaBehaviour.R FOR
> ###									MODELING NETWORKS AND BEHAVIOUR BY RSIENA --
> ###
> ################################################################################
> ################################################################################
> ###
> ### ---- Rscript04SienaBehaviour.R: a script for the introduction to RSiena ----
> ###
> ###							version April 16, 2013
> ################################################################################
> #
> # The introductory script is divided into the following script files:
> # Rscript01DataFormat.R, followed by
> # RScriptSNADescriptives.R, code for descriptive analysis of the data, and
> # Rscript02SienaVariableFormat.R, that formats data and specifies the model, and
> # Rscript03SienaRunModel.R, that runs the model and estimates parameters
> # Rscript04SienaBehaviour.R, that illustrates an example of analysing the
> # coevolution of networks and behaviour
> # Written with contributions by Robin Gauthier, Tom Snijders, Ruth Ripley,
> # and Johan Koskinen.
> #
> 
> # Here is a short script for analysing the co-evolution of the
> # friendship network and drinking behaviour for the 50 girls in the
> # Teenage Friends and Lifestyle Study data
> # (http://www.stats.ox.ac.uk/~snijders/siena/s50_data.zip), described in
> # http://www.stats.ox.ac.uk/~snijders/siena/s50_data.htm
> 
> # Read in the adjacency matrices, covariates and dependent behavioural variable
> # assuming data are in current working directory
> 
> 		friend.data.w1 <- as.matrix(read.table("s50-network1.dat")) # network
> 		friend.data.w2 <- as.matrix(read.table("s50-network2.dat"))
> 		friend.data.w3 <- as.matrix(read.table("s50-network3.dat"))
> 		drink <- as.matrix(read.table("s50-alcohol.dat")) # behaviour
> 		smoke <- as.matrix(read.table("s50-smoke.dat")) # covariate
> 
> # At this point it is a good idea to use the sna package to plot the networks
> # and the behavioural variable. Descriptive measures of the similarity of
> # "friends" with respect to behaviour (like Moran's I) are given by the function
> # nacf() in the sna package.
> 
> # Tell RSiena that the adjacency matrices are network data and in what order
> # they should be treated
> 
> 	friendship <- sienaDependent( array( c( friend.data.w1, friend.data.w2,
+ 							friend.data.w3 ),
+ 							dim = c( 50, 50, 3 ) ) )# create dependent variable
> 
> # Tell RSiena that the variable "drink" should be treated
> # as a dependent variable
> 
> 		drinkingbeh <- sienaDependent( drink, type = "behavior" )
> 		smoke1 <- coCovar( smoke[ , 1 ] )
> 
> # Define the data set and obtain the basic effects object
> 		myCoEvolutionData <- sienaDataCreate( friendship, smoke1, drinkingbeh )
> 		myCoEvolutionEff <- getEffects( myCoEvolutionData )
> 
> # Run reports to check that data is properly formated and
> # to get some basic descriptives
> 
> 		print01Report( myCoEvolutionData, myCoEvolutionEff,
+ 					   modelname = 's50_3_CoEvinit' )
> 
> # Define the effects to include in the coevolution model
> # Start with some structural effects (use the shortnames that you find in
> # effectsDocumentation(myeff) )
> 
> 		myCoEvolutionEff <- includeEffects( myCoEvolutionEff, transTrip, cycle3)
                            name shortName type interaction1 interaction2
friendship.obj.eval.3 friendship transTrip eval                          
friendship.obj.eval.6 friendship    cycle3 eval                          
                      include
friendship.obj.eval.3    TRUE
friendship.obj.eval.6    TRUE
> 
> # Include a homophily effect for the constant covariate smoking
> 
> 		myCoEvolutionEff <- includeEffects( myCoEvolutionEff, simX,
+ 											interaction1 = "smoke1" )
                             name shortName type interaction1 interaction2
friendship.obj.eval.40 friendship      simX eval       smoke1             
                       include
friendship.obj.eval.40    TRUE
> 
> # If we want to parse out whether there is a selection or influence (or both)
> # effect for drinking behaviour,
> # we need to also include sender, receiver and homophily effects
> # of drinking for friendship formation:
> 
> 		myCoEvolutionEff <- includeEffects(myCoEvolutionEff, egoX, altX, simX,
+ 										   interaction1 = "drinkingbeh" )
                             name shortName type interaction1 interaction2
friendship.obj.eval.53 friendship      altX eval  drinkingbeh             
friendship.obj.eval.55 friendship      egoX eval  drinkingbeh             
friendship.obj.eval.56 friendship      simX eval  drinkingbeh             
                       include
friendship.obj.eval.53    TRUE
friendship.obj.eval.55    TRUE
friendship.obj.eval.56    TRUE
> 
> # For the influence part, i.e. the effect of the network on behaviour,
> # we specify the following effects:
> # indegree, outdegree and assimilation effects for drinking
> 
> 		myCoEvolutionEff <- includeEffects( myCoEvolutionEff,
+ 								name = "drinkingbeh",
+ 								avAlt,indeg, outdeg,
+ 								interaction1 = "friendship" )
                               name shortName type interaction1 interaction2
drinkingbeh.obj.eval.5  drinkingbeh     indeg eval   friendship             
drinkingbeh.obj.eval.6  drinkingbeh    outdeg eval   friendship             
drinkingbeh.obj.eval.15 drinkingbeh     avAlt eval   friendship             
                        include
drinkingbeh.obj.eval.5     TRUE
drinkingbeh.obj.eval.6     TRUE
drinkingbeh.obj.eval.15    TRUE
> 
> # Check what effects you have decided to include:
> 
> 		myCoEvolutionEff
   name        effectName                           include fix   test 
1  friendship  constant friendship rate (period 1)  TRUE    FALSE FALSE
2  friendship  constant friendship rate (period 2)  TRUE    FALSE FALSE
3  friendship  outdegree (density)                  TRUE    FALSE FALSE
4  friendship  reciprocity                          TRUE    FALSE FALSE
5  friendship  transitive triplets                  TRUE    FALSE FALSE
6  friendship  3-cycles                             TRUE    FALSE FALSE
7  friendship  smoke1 similarity                    TRUE    FALSE FALSE
8  friendship  drinkingbeh alter                    TRUE    FALSE FALSE
9  friendship  drinkingbeh ego                      TRUE    FALSE FALSE
10 friendship  drinkingbeh similarity               TRUE    FALSE FALSE
11 drinkingbeh rate drinkingbeh (period 1)          TRUE    FALSE FALSE
12 drinkingbeh rate drinkingbeh (period 2)          TRUE    FALSE FALSE
13 drinkingbeh behavior drinkingbeh linear shape    TRUE    FALSE FALSE
14 drinkingbeh behavior drinkingbeh quadratic shape TRUE    FALSE FALSE
15 drinkingbeh behavior drinkingbeh indegree        TRUE    FALSE FALSE
16 drinkingbeh behavior drinkingbeh outdegree       TRUE    FALSE FALSE
17 drinkingbeh behavior drinkingbeh average alter   TRUE    FALSE FALSE
   initialValue parm
1     4.69604   0   
2     4.32885   0   
3    -1.46770   0   
4     0.00000   0   
5     0.00000   0   
6     0.00000   0   
7     0.00000   0   
8     0.00000   0   
9     0.00000   0   
10    0.00000   0   
11    0.70571   0   
12    0.84939   0   
13    0.32237   0   
14    0.00000   0   
15    0.00000   0   
16    0.00000   0   
17    0.00000   0   
> 
> # Define the algorithm settings:
> 
> 		myCoEvAlgorithm <- sienaAlgorithmCreate( projname = 's50CoEv_3' )
> 
> # Estimate model
> 
> 		ans <- siena07( myCoEvAlgorithm, data = myCoEvolutionData,
+ 						effects = myCoEvolutionEff )
> 
> # THE RESULTS
> 
> # To look at the results, type
> 
> 		ans
Estimates, standard errors and convergence t-ratios

                                                Estimate   Standard   Convergence 
                                                             Error      t-ratio   
Network Dynamics 
   1. rate constant friendship rate (period 1)   6.6080  ( 1.3785   )    0.0447   
   2. rate constant friendship rate (period 2)   5.1595  ( 0.8513   )   -0.0062   
   3. eval outdegree (density)                  -2.7701  ( 0.2336   )   -0.0177   
   4. eval reciprocity                           2.3959  ( 0.2486   )    0.0157   
   5. eval transitive triplets                   0.6493  ( 0.1736   )    0.0077   
   6. eval 3-cycles                             -0.0818  ( 0.3102   )    0.0049   
   7. eval smoke1 similarity                     0.1701  ( 0.2247   )   -0.0735   
   8. eval drinkingbeh alter                    -0.0346  ( 0.1349   )    0.0931   
   9. eval drinkingbeh ego                       0.0674  ( 0.1450   )    0.0769   
  10. eval drinkingbeh similarity                1.3191  ( 0.7224   )   -0.0372   

Behavior Dynamics
  11. rate rate drinkingbeh (period 1)           1.2514  ( 0.3930   )   -0.0004   
  12. rate rate drinkingbeh (period 2)           1.7266  ( 0.4279   )   -0.0285   
  13. eval behavior drinkingbeh linear shape    -0.4154  ( 2.2111   )   -0.0056   
  14. eval behavior drinkingbeh quadratic shape -1.0686  ( 3.8469   )    0.0671   
  15. eval behavior drinkingbeh indegree        -0.4787  ( 2.6805   )    0.0414   
  16. eval behavior drinkingbeh outdegree        0.9050  ( 4.1205   )   -0.0684   
  17. eval behavior drinkingbeh average alter    2.3381  ( 8.8089   )   -0.0135   

Total of 3172 iteration steps.

> 
> # or, somewhat more extensive,
> 
> 		summary(ans)
Estimates, standard errors and convergence t-ratios

                                                Estimate   Standard   Convergence 
                                                             Error      t-ratio   
Network Dynamics 
   1. rate constant friendship rate (period 1)   6.6080  ( 1.3785   )    0.0447   
   2. rate constant friendship rate (period 2)   5.1595  ( 0.8513   )   -0.0062   
   3. eval outdegree (density)                  -2.7701  ( 0.2336   )   -0.0177   
   4. eval reciprocity                           2.3959  ( 0.2486   )    0.0157   
   5. eval transitive triplets                   0.6493  ( 0.1736   )    0.0077   
   6. eval 3-cycles                             -0.0818  ( 0.3102   )    0.0049   
   7. eval smoke1 similarity                     0.1701  ( 0.2247   )   -0.0735   
   8. eval drinkingbeh alter                    -0.0346  ( 0.1349   )    0.0931   
   9. eval drinkingbeh ego                       0.0674  ( 0.1450   )    0.0769   
  10. eval drinkingbeh similarity                1.3191  ( 0.7224   )   -0.0372   

Behavior Dynamics
  11. rate rate drinkingbeh (period 1)           1.2514  ( 0.3930   )   -0.0004   
  12. rate rate drinkingbeh (period 2)           1.7266  ( 0.4279   )   -0.0285   
  13. eval behavior drinkingbeh linear shape    -0.4154  ( 2.2111   )   -0.0056   
  14. eval behavior drinkingbeh quadratic shape -1.0686  ( 3.8469   )    0.0671   
  15. eval behavior drinkingbeh indegree        -0.4787  ( 2.6805   )    0.0414   
  16. eval behavior drinkingbeh outdegree        0.9050  ( 4.1205   )   -0.0684   
  17. eval behavior drinkingbeh average alter    2.3381  ( 8.8089   )   -0.0135   

Total of 3172 iteration steps.

Overall maximum convergence ratio:    0.3673 

Covariance matrix of estimates (correlations below diagonal)

       1.900       -0.291       -0.104        0.057        0.039       -0.030       -0.047       -0.031        0.033        0.227        0.138        0.037       -1.284       -2.402       -1.631        2.530        5.499
      -0.248        0.725        0.079       -0.059       -0.045        0.056       -0.006        0.011       -0.013       -0.132       -0.028        0.031        0.691        1.279        0.906       -1.408       -2.881
      -0.322        0.397        0.055       -0.033       -0.026        0.031        0.002        0.013       -0.014       -0.111       -0.030       -0.012        0.374        0.711        0.493       -0.761       -1.621
       0.167       -0.279       -0.573        0.062        0.019       -0.042        0.001       -0.010        0.011        0.026        0.019        0.005       -0.183       -0.346       -0.248        0.379        0.783
       0.164       -0.306       -0.630        0.432        0.030       -0.046       -0.002       -0.005        0.004        0.027        0.012        0.000       -0.212       -0.384       -0.261        0.411        0.876
      -0.070        0.211        0.429       -0.546       -0.856        0.096        0.001        0.008       -0.007       -0.032       -0.018        0.000        0.255        0.466        0.321       -0.502       -1.064
      -0.151       -0.030        0.038        0.017       -0.052        0.020        0.050        0.008        0.003       -0.037       -0.007       -0.007        0.017        0.060        0.050       -0.067       -0.134
      -0.166        0.095        0.404       -0.289       -0.227        0.192        0.251        0.018       -0.014       -0.032       -0.015       -0.003        0.105        0.230        0.162       -0.245       -0.523
       0.164       -0.105       -0.403        0.316        0.145       -0.148        0.092       -0.737        0.021        0.031        0.020        0.004       -0.125       -0.255       -0.173        0.267        0.584
       0.228       -0.215       -0.657        0.142        0.217       -0.143       -0.228       -0.327        0.291        0.522        0.075        0.063       -0.664       -1.386       -0.963        1.455        3.154
       0.255       -0.085       -0.330        0.192        0.178       -0.146       -0.076       -0.289        0.342        0.265        0.154        0.016       -0.335       -0.581       -0.383        0.598        1.333
       0.062        0.085       -0.116        0.045        0.004       -0.003       -0.073       -0.061        0.060        0.204        0.097        0.183        0.009       -0.130       -0.127        0.137        0.289
      -0.421        0.367        0.723       -0.332       -0.552        0.372        0.033        0.353       -0.391       -0.416       -0.385        0.010        4.889        7.958        5.214       -8.461      -18.195
      -0.453        0.391        0.792       -0.362       -0.575        0.391        0.069        0.443       -0.458       -0.499       -0.384       -0.079        0.936       14.798       10.062      -15.707      -33.852
      -0.441        0.397        0.787       -0.371       -0.561        0.386        0.083        0.448       -0.446       -0.497       -0.364       -0.111        0.880        0.976        7.185      -10.962      -22.982
       0.445       -0.401       -0.790        0.370        0.574       -0.393       -0.072       -0.441        0.448        0.489        0.369        0.078       -0.929       -0.991       -0.992       16.978       35.887
       0.453       -0.384       -0.788        0.358        0.573       -0.389       -0.068       -0.440        0.457        0.496        0.385        0.077       -0.934       -0.999       -0.973        0.989       77.597

Derivative matrix of expected statistics X by parameters:

       7.867        0.000       -0.711       -0.602        4.391        1.287        0.506       -0.309        0.350        0.063       -0.202        0.000       -0.180        0.569       -0.850       -0.137       -1.138
       0.000       12.111        2.713        3.562       15.990        5.243        0.499        1.459       -0.139        0.187        0.000        0.083        1.031       -1.141        3.526        2.289       -2.037
      42.990       31.386      317.911      249.778      639.427      200.372       31.728      -15.487      -11.873       28.547        2.384        0.779       25.137       14.177       59.421       65.477       10.801
       8.179        9.168      139.703      149.518      301.423       99.413       14.090       -1.929       -8.102       13.454        1.184        0.850       12.778        9.776       35.560       30.864       13.904
      50.445       39.018      386.756      346.370     1345.050      425.788       39.497       21.341       39.159       31.142        5.439        0.739       27.464       23.654       79.364       75.737       29.583
      17.545       14.959      182.794      176.244      624.065      207.405       19.609       -1.299        5.308       14.783        2.550        0.517       14.812       10.480       45.831       38.074       18.450
       6.176        3.441       31.129       27.637       74.862       23.614       36.293      -48.955      -46.535        6.140        1.809        1.477        1.659       -3.572        6.479        6.269       -3.548
      -3.986       12.014       26.989       29.158      130.854       44.404      -41.763      275.734      202.649        0.801        4.097        0.868       31.075       22.619       60.659       61.144       28.157
       2.882        3.146       21.513       10.937      127.090       40.032      -39.589      206.194      251.022       -1.156       -4.476       -0.642        5.710       28.245        8.901       14.129       27.687
       5.344        5.939       41.039       33.803       85.911       26.973        5.685        0.345       -0.837        9.791        0.251       -0.565        3.659        7.395       11.024       10.417        3.561
       1.459        0.000        2.077        0.401        5.359        1.674       -0.789       -0.193       -3.853       -2.287       14.496        0.000       11.289       -1.210       23.090       26.429       -0.126
       0.000       -3.468       -0.242       -1.225        0.083        0.004       -0.179       -0.821       -2.272       -1.537        0.000       12.420        6.957        2.277       19.690       18.469        5.145
       0.497        1.624        0.650        2.232        0.454        0.242       -0.264        1.469       -0.191        0.075        5.345        2.779       34.187        5.738       81.078       77.156        6.915
      -4.663       -4.045      -13.699       -7.922       -8.568       -2.263       -1.333        3.022        3.501       -1.552        1.433        0.011        0.502       91.681       18.364       12.088       55.843
       4.807        0.489       -3.047        0.382      -15.041       -4.740       -4.333        5.386        1.875       -0.192       13.282       11.271       88.685       23.318      250.358      225.554       21.211
       3.057        2.550       -1.927        1.965       -8.272       -2.136       -3.322        8.209        2.792       -0.260       13.188       10.891       82.292       32.377      228.962      215.921       12.902
      -2.330       -1.792       -3.974       -2.542       -3.879       -1.121       -0.204       -0.918       -0.430       -0.605       -0.461       -1.110       -3.342       32.944       -4.489       -8.769       26.634

Covariance matrix of X (correlations below diagonal):

     109.228       -0.371       80.273       53.109      249.349       77.760        6.757       -3.425        5.327        5.136        3.548        0.051        4.199       -3.436       14.192       13.529      -12.681
      -0.004       89.943       54.092       34.985      176.851       56.011        3.293       15.974        6.861        4.852        0.386       -0.982        5.051       -1.193        9.642        6.410       -7.627
       0.324        0.241      561.155      474.865     1461.388      467.500       56.742       18.947       19.842       42.605        4.806        4.888       46.904        5.140      120.970      114.139       26.890
       0.236        0.171        0.932      462.977     1322.069      429.694       54.034       26.196       14.925       38.814        2.930        4.439       41.808       11.075      108.899      102.141       30.881
       0.323        0.253        0.836        0.833     5446.152     1750.261      165.117      177.937      169.360       98.216       15.601       13.586      107.069       50.389      317.789      274.290      111.698
       0.312        0.248        0.828        0.837        0.995      568.672       53.270       57.849       52.691       31.719        4.878        4.721       34.894       17.004      103.522       88.383       37.758
       0.094        0.050        0.347        0.364        0.324        0.323       47.685      -72.693      -72.107        8.022       -1.247        1.326        0.687       -6.881       -2.093       -0.077       -5.836
      -0.015        0.077        0.036        0.056        0.110        0.111       -0.480      480.196      380.347        1.543        5.397        3.113       28.736       50.783       72.370       64.437       43.883
       0.024        0.034        0.040        0.033        0.109        0.105       -0.497        0.827      440.921        0.379        1.633       -2.541       19.863       52.731       54.222       46.094       51.284
       0.119        0.124        0.435        0.437        0.322        0.322        0.281        0.017        0.004       17.070       -2.912       -1.459        3.804        6.881       10.173        8.122        4.394
       0.072        0.009        0.043        0.029        0.045        0.043       -0.038        0.052        0.016       -0.148       22.547        0.012       15.039       -1.553       29.477       35.184       -0.403
       0.001       -0.021        0.041        0.041        0.037        0.039        0.038        0.028       -0.024       -0.070        0.000       25.218       14.724       -2.942       38.407       35.433       -0.943
       0.042        0.056        0.208        0.204        0.153        0.154        0.010        0.138        0.099        0.097        0.333        0.308       90.497        4.332      219.712      211.130       21.625
      -0.024       -0.009        0.016        0.037        0.049        0.051       -0.071        0.166        0.180        0.119       -0.023       -0.042        0.033      194.901       41.307       28.273      124.808
       0.053        0.039        0.198        0.196        0.167        0.168       -0.012        0.128        0.100        0.095        0.240        0.296        0.893        0.114      668.510      573.550       75.207
       0.054        0.028        0.199        0.197        0.154        0.153        0.000        0.122        0.091        0.081        0.307        0.292        0.919        0.084        0.918      583.336       45.603
      -0.092       -0.061        0.086        0.109        0.115        0.120       -0.064        0.152        0.185        0.080       -0.006       -0.014        0.172        0.677        0.220        0.143      174.592
> 
> # Note that the "convergence t-ratio" is the t-ratio for convergence checking,
> # not the t statistic for testing the significance of this effect.
> # (See Section 6.1.2 of the manual.)
> # For good convergence, the t-ratios for convergence
> # all should be less than .1 in absolute value.
> 
> # For this small data set, the model for behavior dynamics is over-specified,
> # leading to some very large standard errors.
> # Running a model modified by
> 
> 		myCoEvolutionEff <- includeEffects( myCoEvolutionEff,
+ 								name = "drinkingbeh", indeg, outdeg,
+ 								interaction1 = "friendship", include = FALSE)
                              name shortName type interaction1 interaction2
drinkingbeh.obj.eval.5 drinkingbeh     indeg eval   friendship             
drinkingbeh.obj.eval.6 drinkingbeh    outdeg eval   friendship             
                       include
drinkingbeh.obj.eval.5   FALSE
drinkingbeh.obj.eval.6   FALSE
> 
> #		(ans <- siena07( myCoEvAlgorithm, data = myCoEvolutionData,
> #						effects = myCoEvolutionEff ))
> 
> # without degree effects on behaviour gives better results.
> 
> 
> proc.time()
   user  system elapsed 
 113.22    0.90  114.92 
